(function(c){var d=/[\.\/]/,b=function(){},h=function(b,c){return b-c},e,k,q={n:{}},p=function(b,c){b=String(b);var d=k,q=Array.prototype.slice.call(arguments,2),ia=p.listeners(b),H=0,D,X=[],F={},Q=[],oa=e;e=b;for(var ca=k=0,s=ia.length;ca<s;ca++)"zIndex"in ia[ca]&&(X.push(ia[ca].zIndex),0>ia[ca].zIndex&&(F[ia[ca].zIndex]=ia[ca]));for(X.sort(h);0>X[H];)if(D=F[X[H++]],Q.push(D.apply(c,q)),k)return k=d,Q;for(ca=0;ca<s;ca++)if(D=ia[ca],"zIndex"in D)if(D.zIndex==X[H]){Q.push(D.apply(c,q));if(k)break;
do if(H++,(D=F[X[H]])&&Q.push(D.apply(c,q)),k)break;while(D)}else F[D.zIndex]=D;else if(Q.push(D.apply(c,q)),k)break;k=d;e=oa;return Q.length?Q:null};p._events=q;p.listeners=function(b){b=b.split(d);var c=q,e,h,k,p,D,X,F,Q=[c],oa=[];k=0;for(p=b.length;k<p;k++){F=[];D=0;for(X=Q.length;D<X;D++)for(c=Q[D].n,e=[c[b[k]],c["*"]],h=2;h--;)if(c=e[h])F.push(c),oa=oa.concat(c.f||[]);Q=F}return oa};p.on=function(c,e){c=String(c);if("function"!=typeof e)return function(){};for(var h=c.split(d),k=q,p=0,H=h.length;p<
H;p++)k=k.n,k=k.hasOwnProperty(h[p])&&k[h[p]]||(k[h[p]]={n:{}});k.f=k.f||[];p=0;for(H=k.f.length;p<H;p++)if(k.f[p]==e)return b;k.f.push(e);return function(b){+b==+b&&(e.zIndex=+b)}};p.f=function(b){var c=[].slice.call(arguments,1);return function(){p.apply(null,[b,null].concat(c).concat([].slice.call(arguments,0)))}};p.stop=function(){k=1};p.nt=function(b){return b?(new RegExp("(?:\\.|\\/|^)"+b+"(?:\\.|\\/|$)")).test(e):e};p.nts=function(){return e.split(d)};p.off=p.unbind=function(b,c){if(b){var e=
b.split(d),h,k,H,D,X,F,Q=[q];D=0;for(X=e.length;D<X;D++)for(F=0;F<Q.length;F+=H.length-2){H=[F,1];h=Q[F].n;if("*"!=e[D])h[e[D]]&&H.push(h[e[D]]);else for(k in h)h.hasOwnProperty(k)&&H.push(h[k]);Q.splice.apply(Q,H)}D=0;for(X=Q.length;D<X;D++)for(h=Q[D];h.n;){if(c){if(h.f){F=0;for(e=h.f.length;F<e;F++)if(h.f[F]==c){h.f.splice(F,1);break}!h.f.length&&delete h.f}for(k in h.n)if(h.n.hasOwnProperty(k)&&h.n[k].f){H=h.n[k].f;F=0;for(e=H.length;F<e;F++)if(H[F]==c){H.splice(F,1);break}!H.length&&delete h.n[k].f}}else for(k in delete h.f,
h.n)h.n.hasOwnProperty(k)&&h.n[k].f&&delete h.n[k].f;h=h.n}}else p._events=q={n:{}}};p.once=function(b,c){var d=function(){p.unbind(b,d);return c.apply(this,arguments)};return p.on(b,d)};p.version="0.4.2";p.toString=function(){return"You are running Eve 0.4.2"};"undefined"!=typeof module&&module.exports?module.exports=p:"undefined"!=typeof define?define("eve",[],function(){return p}):c.eve=p})(window||this);
(function(c,d){"function"===typeof define&&define.amd?define(["eve"],function(b){return d(c,b)}):d(c,c.eve)})(this,function(c,d){function b(a){if(b.is(a,"function"))return F?a():d.on("raphael.DOMload",a);if(b.is(a,da))return b._engine.create[R](b,a.splice(0,3+b.is(a[0],W))).add(a);var n=Array.prototype.slice.call(arguments,0);if(b.is(n[n.length-1],"function")){var g=n.pop();return F?g.call(b._engine.create[R](b,n)):d.on("raphael.DOMload",function(){g.call(b._engine.create[R](b,n))})}return b._engine.create[R](b,
arguments)}function h(a){if("function"==typeof a||Object(a)!==a)return a;var n=new a.constructor,b;for(b in a)a.hasOwnProperty(b)&&(n[b]=h(a[b]));return n}function e(a,n,b){function f(){var t=Array.prototype.slice.call(arguments,0),l=t.join("\u2400"),c=f.cache=f.cache||{},L=f.count=f.count||[];if(c.hasOwnProperty(l)){a:for(var t=L,L=l,d=0,e=t.length;d<e;d++)if(t[d]===L){t.push(t.splice(d,1)[0]);break a}return b?b(c[l]):c[l]}1E3<=L.length&&delete c[L.shift()];L.push(l);c[l]=a[R](n,t);return b?b(c[l]):
c[l]}return f}function k(){return this.hex}function q(a,n){for(var b=[],f=0,t=a.length;t-2*!n>f;f+=2){var l=[{x:+a[f-2],y:+a[f-1]},{x:+a[f],y:+a[f+1]},{x:+a[f+2],y:+a[f+3]},{x:+a[f+4],y:+a[f+5]}];n?f?t-4==f?l[3]={x:+a[0],y:+a[1]}:t-2==f&&(l[2]={x:+a[0],y:+a[1]},l[3]={x:+a[2],y:+a[3]}):l[0]={x:+a[t-2],y:+a[t-1]}:t-4==f?l[3]=l[2]:f||(l[0]={x:+a[f],y:+a[f+1]});b.push(["C",(-l[0].x+6*l[1].x+l[2].x)/6,(-l[0].y+6*l[1].y+l[2].y)/6,(l[1].x+6*l[2].x-l[3].x)/6,(l[1].y+6*l[2].y-l[3].y)/6,l[2].x,l[2].y])}return b}
function p(a,n,b,f,t,l,c,L,d){null==d&&(d=1);d=(1<d?1:0>d?0:d)/2;for(var e=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],m=0,k=0;12>k;k++)var r=d*e[k]+d,q=r*(r*(-3*a+9*b-9*t+3*c)+6*a-12*b+6*t)-3*a+3*b,r=r*(r*(-3*n+9*f-9*l+3*L)+6*n-12*f+6*l)-3*n+3*f,m=m+h[k]*u.sqrt(q*q+r*r);return d*m}function z(a,n,b,f,t,l,c,L,d){if(!(0>d||p(a,n,b,f,t,l,c,L)<d)){var e=.5,h=1-e,m;for(m=p(a,n,b,f,t,l,c,L,h);.01<
U(m-d);)e/=2,h+=(m<d?1:-1)*e,m=p(a,n,b,f,t,l,c,L,h);return h}}function Y(a,n,g){a=b._path2curve(a);n=b._path2curve(n);for(var f,t,l,c,L,d,e,h,m,k,r=g?0:[],q=0,v=a.length;q<v;q++)if(m=a[q],"M"==m[0])f=L=m[1],t=d=m[2];else{"C"==m[0]?(m=[f,t].concat(m.slice(1)),f=m[6],t=m[7]):(m=[f,t,f,t,L,d,L,d],f=L,t=d);for(var O=0,x=n.length;O<x;O++)if(k=n[O],"M"==k[0])l=e=k[1],c=h=k[2];else{"C"==k[0]?(k=[l,c].concat(k.slice(1)),l=k[6],c=k[7]):(k=[l,c,l,c,e,h,e,h],l=e,c=h);var w;var s=m,$=k;w=g;var u=b.bezierBBox(s),
K=b.bezierBBox($);if(b.isBBoxIntersect(u,K)){for(var u=p.apply(0,s),K=p.apply(0,$),u=M(~~(u/5),1),K=M(~~(K/5),1),Ia=[],Ja=[],$a={},I=w?0:[],V=0;V<u+1;V++){var S=b.findDotsAtSegment.apply(b,s.concat(V/u));Ia.push({x:S.x,y:S.y,t:V/u})}for(V=0;V<K+1;V++)S=b.findDotsAtSegment.apply(b,$.concat(V/K)),Ja.push({x:S.x,y:S.y,t:V/K});for(V=0;V<u;V++)for(s=0;s<K;s++){var y=Ia[V],B=Ia[V+1],$=Ja[s],S=Ja[s+1],va=.001>U(B.x-y.x)?"y":"x",wa=.001>U(S.x-$.x)?"y":"x",E;E=y.x;var ja=y.y,ka=B.x,la=B.y,ma=$.x,z=$.y,A=S.x,
D=S.y;if(M(E,ka)<P(ma,A)||P(E,ka)>M(ma,A)||M(ja,la)<P(z,D)||P(ja,la)>M(z,D))E=void 0;else{var C=(E*la-ja*ka)*(ma-A)-(E-ka)*(ma*D-z*A),H=(E*la-ja*ka)*(z-D)-(ja-la)*(ma*D-z*A),F=(E-ka)*(z-D)-(ja-la)*(ma-A);if(F){var C=C/F,H=H/F,F=+C.toFixed(2),J=+H.toFixed(2);E=F<+P(E,ka).toFixed(2)||F>+M(E,ka).toFixed(2)||F<+P(ma,A).toFixed(2)||F>+M(ma,A).toFixed(2)||J<+P(ja,la).toFixed(2)||J>+M(ja,la).toFixed(2)||J<+P(z,D).toFixed(2)||J>+M(z,D).toFixed(2)?void 0:{x:C,y:H}}else E=void 0}E&&$a[E.x.toFixed(4)]!=E.y.toFixed(4)&&
($a[E.x.toFixed(4)]=E.y.toFixed(4),y=y.t+U((E[va]-y[va])/(B[va]-y[va]))*(B.t-y.t),$=$.t+U((E[wa]-$[wa])/(S[wa]-$[wa]))*(S.t-$.t),0<=y&&1.001>=y&&0<=$&&1.001>=$&&(w?I++:I.push({x:E.x,y:E.y,t1:P(y,1),t2:P($,1)})))}w=I}else w=w?0:[];if(g)r+=w;else{u=0;for(K=w.length;u<K;u++)w[u].segment1=q,w[u].segment2=O,w[u].bez1=m,w[u].bez2=k;r=r.concat(w)}}}return r}function ga(a,n,b,f,t,l){null!=a?(this.a=+a,this.b=+n,this.c=+b,this.d=+f,this.e=+t,this.f=+l):(this.a=1,this.c=this.b=0,this.d=1,this.f=this.e=0)}function Ya(){return this.x+
" "+this.y+" "+this.width+" \u00d7 "+this.height}function ia(a,n,b,f,t,l){function c(a,n){var b,g,f,l;f=a;for(g=0;8>g;g++){l=((e*f+d)*f+L)*f-a;if(U(l)<n)return f;b=(3*e*f+2*d)*f+L;if(1E-6>U(b))break;f-=l/b}b=0;g=1;f=a;if(f<b)return b;if(f>g)return g;for(;b<g;){l=((e*f+d)*f+L)*f;if(U(l-a)<n)break;a>l?b=f:g=f;f=(g-b)/2+b}return f}var L=3*n,d=3*(f-n)-L,e=1-L-d,h=3*b,m=3*(t-b)-h,k=1-h-m;return function(a,n){var b=c(a,n);return((k*b+m)*b+h)*b}(a,1/(200*l))}function H(a,n){var b=[],f={};this.ms=n;this.times=
1;if(a){for(var t in a)a.hasOwnProperty(t)&&(f[J(t)]=a[t],b.push(J(t)));b.sort(ub)}this.anim=f;this.top=b[b.length-1];this.percents=b}function D(a,n,g,f,t,l){g=J(g);var c,L,e,h,k,m,T=a.ms,r={},q={},v={};if(f)for(m=0,x=A.length;m<x;m++){var O=A[m];if(O.el.id==n.id&&O.anim==a){O.percent!=g?(A.splice(m,1),e=1):L=O;n.attr(O.totalOrigin);break}}else f=+q;m=0;for(var x=a.percents.length;m<x;m++)if(a.percents[m]==g||a.percents[m]>f*a.top){g=a.percents[m];k=a.percents[m-1]||0;T=T/a.top*(g-k);h=a.percents[m+
1];c=a.anim[g];break}else f&&n.attr(a.anim[a.percents[m]]);if(c){if(L)L.initstatus=f,L.start=new Date-L.ms*f;else{for(var w in c)if(c.hasOwnProperty(w)&&(Ka.hasOwnProperty(w)||n.paper.customAttributes.hasOwnProperty(w)))switch(r[w]=n.attr(w),null==r[w]&&(r[w]=vb[w]),q[w]=c[w],Ka[w]){case W:v[w]=(q[w]-r[w])/T;break;case "colour":r[w]=b.getRGB(r[w]);m=b.getRGB(q[w]);v[w]={r:(m.r-r[w].r)/T,g:(m.g-r[w].g)/T,b:(m.b-r[w].b)/T};break;case "path":m=ta(r[w],q[w]);O=m[1];r[w]=m[0];v[w]=[];m=0;for(x=r[w].length;m<
x;m++){v[w][m]=[0];for(var p=1,s=r[w][m].length;p<s;p++)v[w][m][p]=(O[m][p]-r[w][m][p])/T}break;case "transform":m=n._;if(x=wb(m[w],q[w]))for(r[w]=x.from,q[w]=x.to,v[w]=[],v[w].real=!0,m=0,x=r[w].length;m<x;m++)for(v[w][m]=[r[w][m][0]],p=1,s=r[w][m].length;p<s;p++)v[w][m][p]=(q[w][m][p]-r[w][m][p])/T;else x=n.matrix||new ga,m={_:{transform:m.transform},getBBox:function(){return n.getBBox(1)}},r[w]=[x.a,x.b,x.c,x.d,x.e,x.f],ab(m,q[w]),q[w]=m._.transform,v[w]=[(m.matrix.a-x.a)/T,(m.matrix.b-x.b)/T,
(m.matrix.c-x.c)/T,(m.matrix.d-x.d)/T,(m.matrix.e-x.e)/T,(m.matrix.f-x.f)/T];break;case "csv":x=aa(c[w]).split(Q);O=aa(r[w]).split(Q);if("clip-rect"==w)for(r[w]=O,v[w]=[],m=O.length;m--;)v[w][m]=(x[m]-r[w][m])/T;q[w]=x;break;default:for(x=[].concat(c[w]),O=[].concat(r[w]),v[w]=[],m=n.paper.customAttributes[w].length;m--;)v[w][m]=((x[m]||0)-(O[m]||0))/T}m=c.easing;w=b.easing_formulas[m];if(!w)if((w=aa(m).match(xb))&&5==w.length){var u=w;w=function(a){return ia(a,+u[1],+u[2],+u[3],+u[4],T)}}else w=
yb;m=c.start||a.start||+new Date;O={anim:a,percent:g,timestamp:m,start:m+(a.del||0),status:0,initstatus:f||0,stop:!1,ms:T,easing:w,from:r,diff:v,to:q,el:n,callback:c.callback,prev:k,next:h,repeat:l||a.times,origin:n.attr(),totalOrigin:t};A.push(O);if(f&&!L&&!e&&(O.stop=!0,O.start=new Date-T*f,1==A.length))return La();e&&(O.start=new Date-O.ms*f);1==A.length&&bb(La)}d("raphael.anim.start."+n.id,n,a)}}function X(a){for(var n=0;n<A.length;n++)A[n].el.paper==a&&A.splice(n--,1)}b.version="2.1.2";b.eve=
d;var F,Q=/[, ]+/,oa={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},ca=/\{(\d+)\}/g,s={doc:document,win:c},cb=Object.prototype.hasOwnProperty.call(s.win,"Raphael"),zb=s.win.Raphael,db=function(){this.ca=this.customAttributes={}},N,R="apply",xa="ontouchstart"in s.win||s.win.DocumentTouch&&s.doc instanceof DocumentTouch,aa=String,eb="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel".split(" "),ya={mousedown:"touchstart",mousemove:"touchmove",
mouseup:"touchend"},za=aa.prototype.toLowerCase,u=Math,M=u.max,P=u.min,U=u.abs,ea=u.pow,ba=u.PI,W="number",da="array",Ab=Object.prototype.toString;b._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i;var Bb=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,
Cb={NaN:1,Infinity:1,"-Infinity":1},xb=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,Ma=u.round,J=parseFloat,pa=parseInt,fb=aa.prototype.toUpperCase,vb=b._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",
r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},Ka=b._availableAnimAttrs={blur:W,"clip-rect":"csv",cx:W,cy:W,fill:"colour","fill-opacity":W,"font-size":W,height:W,opacity:W,path:"path",r:W,rx:W,ry:W,stroke:"colour","stroke-opacity":W,"stroke-width":W,transform:"transform",width:W,x:W,y:W},Na=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,
Db={hs:1,rg:1},Eb=/,?([achlmqrstvxz]),?/gi,Fb=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,
Gb=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,gb=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/ig;
b._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/;var ra={},ub=function(a,n){return J(a)-J(n)},Hb=function(){},yb=function(a){return a},Aa=b._rectPath=function(a,n,b,f,t){return t?[["M",a+t,n],["l",b-2*t,0],["a",t,t,0,0,1,
t,t],["l",0,f-2*t],["a",t,t,0,0,1,-t,t],["l",2*t-b,0],["a",t,t,0,0,1,-t,-t],["l",0,2*t-f],["a",t,t,0,0,1,t,-t],["z"]]:[["M",a,n],["l",b,0],["l",0,f],["l",-b,0],["z"]]},hb=function(a,n,b,f){null==f&&(f=b);return[["M",a,n],["m",0,-f],["a",b,f,0,1,1,0,2*f],["a",b,f,0,1,1,0,-2*f],["z"]]},Ba=b._getPath={path:function(a){return a.attr("path")},circle:function(a){a=a.attrs;return hb(a.cx,a.cy,a.r)},ellipse:function(a){a=a.attrs;return hb(a.cx,a.cy,a.rx,a.ry)},rect:function(a){a=a.attrs;return Aa(a.x,a.y,
a.width,a.height,a.r)},image:function(a){a=a.attrs;return Aa(a.x,a.y,a.width,a.height)},text:function(a){a=a._getBBox();return Aa(a.x,a.y,a.width,a.height)},set:function(a){a=a._getBBox();return Aa(a.x,a.y,a.width,a.height)}},Oa=b.mapPath=function(a,n){if(!n)return a;var b,f,t,l,c,L,d;a=ta(a);t=0;for(c=a.length;t<c;t++)for(d=a[t],l=1,L=d.length;l<L;l+=2)b=n.x(d[l],d[l+1]),f=n.y(d[l],d[l+1]),d[l]=b,d[l+1]=f;return a};b._g=s;b.type=s.win.SVGAngle||s.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure",
"1.1")?"SVG":"VML";if("VML"==b.type){var Pa=s.doc.createElement("div"),Ca;Pa.innerHTML='<v:shape adj="1"/>';Ca=Pa.firstChild;Ca.style.behavior="url(#default#VML)";if(!Ca||"object"!=typeof Ca.adj)return b.type="";Pa=null}b.svg=!(b.vml="VML"==b.type);b._Paper=db;b.fn=N=db.prototype=b.prototype;b._id=0;b._oid=0;b.is=function(a,n){n=za.call(n);return"finite"==n?!Cb.hasOwnProperty(+a):"array"==n?a instanceof Array:"null"==n&&null===a||n==typeof a&&null!==a||"object"==n&&a===Object(a)||"array"==n&&Array.isArray&&
Array.isArray(a)||Ab.call(a).slice(8,-1).toLowerCase()==n};b.angle=function(a,n,g,f,t,l){return null==t?(a-=g,n-=f,a||n?(180*u.atan2(-n,-a)/ba+540)%360:0):b.angle(a,n,t,l)-b.angle(g,f,t,l)};b.rad=function(a){return a%360*ba/180};b.deg=function(a){return 180*a/ba%360};b.snapTo=function(a,n,g){g=b.is(g,"finite")?g:10;if(b.is(a,da))for(var f=a.length;f--;){if(U(a[f]-n)<=g)return a[f]}else{a=+a;f=n%a;if(f<g)return n-f;if(f>a-g)return n-f+a}return n};b.createUUID=function(a,n){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(a,
n).toUpperCase()}}(/[xy]/g,function(a){var n=16*u.random()|0;return("x"==a?n:n&3|8).toString(16)});b.setWindow=function(a){d("raphael.setWindow",b,s.win,a);s.win=a;s.doc=s.win.document;b._engine.initWin&&b._engine.initWin(s.win)};var Da=function(a){if(b.vml){var n=/^\s+|\s+$/g,g;try{var f=new ActiveXObject("htmlfile");f.write("<body>");f.close();g=f.body}catch(t){g=createPopup().document.body}var l=g.createTextRange();Da=e(function(a){try{g.style.color=aa(a).replace(n,"");var b=l.queryCommandValue("ForeColor");
return"#"+("000000"+((b&255)<<16|b&65280|(b&16711680)>>>16).toString(16)).slice(-6)}catch(f){return"none"}})}else{var c=s.doc.createElement("i");c.title="Rapha\u00ebl Colour Picker";c.style.display="none";s.doc.body.appendChild(c);Da=e(function(a){c.style.color=a;return s.doc.defaultView.getComputedStyle(c,"").getPropertyValue("color")})}return Da(a)},Ib=function(){return"hsb("+[this.h,this.s,this.b]+")"},Jb=function(){return"hsl("+[this.h,this.s,this.l]+")"},ib=function(){return this.hex},jb=function(a,
n,g){null==n&&b.is(a,"object")&&"r"in a&&"g"in a&&"b"in a&&(g=a.b,n=a.g,a=a.r);null==n&&b.is(a,"string")&&(g=b.getRGB(a),a=g.r,n=g.g,g=g.b);if(1<a||1<n||1<g)a/=255,n/=255,g/=255;return[a,n,g]},kb=function(a,n,g,f){a*=255;n*=255;g*=255;a={r:a,g:n,b:g,hex:b.rgb(a,n,g),toString:ib};b.is(f,"finite")&&(a.opacity=f);return a};b.color=function(a){var n;b.is(a,"object")&&"h"in a&&"s"in a&&"b"in a?(n=b.hsb2rgb(a),a.r=n.r,a.g=n.g,a.b=n.b,a.hex=n.hex):b.is(a,"object")&&"h"in a&&"s"in a&&"l"in a?(n=b.hsl2rgb(a),
a.r=n.r,a.g=n.g,a.b=n.b,a.hex=n.hex):(b.is(a,"string")&&(a=b.getRGB(a)),b.is(a,"object")&&"r"in a&&"g"in a&&"b"in a?(n=b.rgb2hsl(a),a.h=n.h,a.s=n.s,a.l=n.l,n=b.rgb2hsb(a),a.v=n.b):(a={hex:"none"},a.r=a.g=a.b=a.h=a.s=a.v=a.l=-1));a.toString=ib;return a};b.hsb2rgb=function(a,n,b,f){this.is(a,"object")&&"h"in a&&"s"in a&&"b"in a&&(b=a.b,n=a.s,a=a.h,f=a.o);var t,l,c;a=360*a%360/60;c=b*n;n=c*(1-U(a%2-1));b=t=l=b-c;a=~~a;b+=[c,n,0,0,n,c][a];t+=[n,c,c,n,0,0][a];l+=[0,0,n,c,c,n][a];return kb(b,t,l,f)};b.hsl2rgb=
function(a,n,b,f){this.is(a,"object")&&"h"in a&&"s"in a&&"l"in a&&(b=a.l,n=a.s,a=a.h);if(1<a||1<n||1<b)a/=360,n/=100,b/=100;var t,l,c;a=360*a%360/60;c=2*n*(.5>b?b:1-b);n=c*(1-U(a%2-1));b=t=l=b-c/2;a=~~a;b+=[c,n,0,0,n,c][a];t+=[n,c,c,n,0,0][a];l+=[0,0,n,c,c,n][a];return kb(b,t,l,f)};b.rgb2hsb=function(a,b,g){g=jb(a,b,g);a=g[0];b=g[1];g=g[2];var f,t;f=M(a,b,g);t=f-P(a,b,g);a=((0==t?null:f==a?(b-g)/t:f==b?(g-a)/t+2:(a-b)/t+4)+360)%6*60/360;return{h:a,s:0==t?0:t/f,b:f,toString:Ib}};b.rgb2hsl=function(a,
b,g){g=jb(a,b,g);a=g[0];b=g[1];g=g[2];var f,t,l;f=M(a,b,g);t=P(a,b,g);l=f-t;a=((0==l?null:f==a?(b-g)/l:f==b?(g-a)/l+2:(a-b)/l+4)+360)%6*60/360;f=(f+t)/2;return{h:a,s:0==l?0:.5>f?l/(2*f):l/(2-2*f),l:f,toString:Jb}};b._path2string=function(){return this.join(",").replace(Eb,"$1")};b._preload=function(a,b){var g=s.doc.createElement("img");g.style.cssText="position:absolute;left:-9999em;top:-9999em";g.onload=function(){b.call(this);this.onload=null;s.doc.body.removeChild(this)};g.onerror=function(){s.doc.body.removeChild(this)};
s.doc.body.appendChild(g);g.src=a};b.getRGB=e(function(a){if(!a||(a=aa(a)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:k};if("none"==a)return{r:-1,g:-1,b:-1,hex:"none",toString:k};!Db.hasOwnProperty(a.toLowerCase().substring(0,2))&&"#"!=a.charAt()&&(a=Da(a));var n,g,f,t,l;if(a=a.match(Bb)){a[2]&&(f=pa(a[2].substring(5),16),g=pa(a[2].substring(3,5),16),n=pa(a[2].substring(1,3),16));a[3]&&(f=pa((l=a[3].charAt(3))+l,16),g=pa((l=a[3].charAt(2))+l,16),n=pa((l=a[3].charAt(1))+l,16));
a[4]&&(l=a[4].split(Na),n=J(l[0]),"%"==l[0].slice(-1)&&(n*=2.55),g=J(l[1]),"%"==l[1].slice(-1)&&(g*=2.55),f=J(l[2]),"%"==l[2].slice(-1)&&(f*=2.55),"rgba"==a[1].toLowerCase().slice(0,4)&&(t=J(l[3])),l[3]&&"%"==l[3].slice(-1)&&(t/=100));if(a[5])return l=a[5].split(Na),n=J(l[0]),"%"==l[0].slice(-1)&&(n*=2.55),g=J(l[1]),"%"==l[1].slice(-1)&&(g*=2.55),f=J(l[2]),"%"==l[2].slice(-1)&&(f*=2.55),"deg"!=l[0].slice(-3)&&"\u00b0"!=l[0].slice(-1)||(n/=360),"hsba"==a[1].toLowerCase().slice(0,4)&&(t=J(l[3])),l[3]&&
"%"==l[3].slice(-1)&&(t/=100),b.hsb2rgb(n,g,f,t);if(a[6])return l=a[6].split(Na),n=J(l[0]),"%"==l[0].slice(-1)&&(n*=2.55),g=J(l[1]),"%"==l[1].slice(-1)&&(g*=2.55),f=J(l[2]),"%"==l[2].slice(-1)&&(f*=2.55),"deg"!=l[0].slice(-3)&&"\u00b0"!=l[0].slice(-1)||(n/=360),"hsla"==a[1].toLowerCase().slice(0,4)&&(t=J(l[3])),l[3]&&"%"==l[3].slice(-1)&&(t/=100),b.hsl2rgb(n,g,f,t);a={r:n,g:g,b:f,toString:k};a.hex="#"+(16777216|f|g<<8|n<<16).toString(16).slice(1);b.is(t,"finite")&&(a.opacity=t);return a}return{r:-1,
g:-1,b:-1,hex:"none",error:1,toString:k}},b);b.hsb=e(function(a,n,g){return b.hsb2rgb(a,n,g).hex});b.hsl=e(function(a,n,g){return b.hsl2rgb(a,n,g).hex});b.rgb=e(function(a,b,g){return"#"+(16777216|g|b<<8|a<<16).toString(16).slice(1)});b.getColor=function(a){a=this.getColor.start=this.getColor.start||{h:0,s:1,b:a||.75};var b=this.hsb2rgb(a.h,a.s,a.b);a.h+=.075;1<a.h&&(a.h=0,a.s-=.2,0>=a.s&&(this.getColor.start={h:0,s:1,b:a.b}));return b.hex};b.getColor.reset=function(){delete this.start};b.parsePathString=
function(a){if(!a)return null;var n=qa(a);if(n.arr)return ha(n.arr);var g={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},f=[];b.is(a,da)&&b.is(a[0],da)&&(f=ha(a));f.length||aa(a).replace(Fb,function(a,b,n){var c=[];a=b.toLowerCase();n.replace(gb,function(a,b){b&&c.push(+b)});"m"==a&&2<c.length&&(f.push([b].concat(c.splice(0,2))),a="l",b="m"==b?"l":"L");if("r"==a)f.push([b].concat(c));else for(;c.length>=g[a]&&(f.push([b].concat(c.splice(0,g[a]))),g[a]););});f.toString=b._path2string;n.arr=ha(f);return f};
b.parseTransformString=e(function(a){if(!a)return null;var n=[];b.is(a,da)&&b.is(a[0],da)&&(n=ha(a));n.length||aa(a).replace(Gb,function(a,b,t){var l=[];za.call(b);t.replace(gb,function(a,b){b&&l.push(+b)});n.push([b].concat(l))});n.toString=b._path2string;return n});var qa=function(a){var b=qa.ps=qa.ps||{};b[a]?b[a].sleep=100:b[a]={sleep:100};setTimeout(function(){for(var g in b)b.hasOwnProperty(g)&&g!=a&&(b[g].sleep--,!b[g].sleep&&delete b[g])});return b[a]};b.findDotsAtSegment=function(a,b,g,f,
t,l,c,d,e){var h=1-e,k=ea(h,3),m=ea(h,2),q=e*e,r=q*e,p=k*a+3*m*e*g+3*h*e*e*t+r*c,k=k*b+3*m*e*f+3*h*e*e*l+r*d,m=a+2*e*(g-a)+q*(t-2*g+a),r=b+2*e*(f-b)+q*(l-2*f+b),v=g+2*e*(t-g)+q*(c-2*t+g),q=f+2*e*(l-f)+q*(d-2*l+f);a=h*a+e*g;b=h*b+e*f;t=h*t+e*c;l=h*l+e*d;d=90-180*u.atan2(m-v,r-q)/ba;(m>v||r<q)&&(d+=180);return{x:p,y:k,m:{x:m,y:r},n:{x:v,y:q},start:{x:a,y:b},end:{x:t,y:l},alpha:d}};b.bezierBBox=function(a,n,g,f,t,l,c,d){b.is(a,"array")||(a=[a,n,g,f,t,l,c,d]);a=lb.apply(null,a);return{x:a.min.x,y:a.min.y,
x2:a.max.x,y2:a.max.y,width:a.max.x-a.min.x,height:a.max.y-a.min.y}};b.isPointInsideBBox=function(a,b,g){return b>=a.x&&b<=a.x2&&g>=a.y&&g<=a.y2};b.isBBoxIntersect=function(a,n){var g=b.isPointInsideBBox;return g(n,a.x,a.y)||g(n,a.x2,a.y)||g(n,a.x,a.y2)||g(n,a.x2,a.y2)||g(a,n.x,n.y)||g(a,n.x2,n.y)||g(a,n.x,n.y2)||g(a,n.x2,n.y2)||(a.x<n.x2&&a.x>n.x||n.x<a.x2&&n.x>a.x)&&(a.y<n.y2&&a.y>n.y||n.y<a.y2&&n.y>a.y)};b.pathIntersection=function(a,b){return Y(a,b)};b.pathIntersectionNumber=function(a,b){return Y(a,
b,1)};b.isPointInsidePath=function(a,n,g){var f=b.pathBBox(a);return b.isPointInsideBBox(f,n,g)&&1==Y(a,[["M",n,g],["H",f.x2+10]],1)%2};b._removedFactory=function(a){return function(){d("raphael.log",null,"Rapha\u00ebl: you are calling to method \u201c"+a+"\u201d of removed object",a)}};var Qa=b.pathBBox=function(a){var b=qa(a);if(b.bbox)return h(b.bbox);if(!a)return{x:0,y:0,width:0,height:0,x2:0,y2:0};a=ta(a);for(var g=0,f=0,t=[],l=[],c,d=0,e=a.length;d<e;d++)c=a[d],"M"==c[0]?(g=c[1],f=c[2],t.push(g),
l.push(f)):(g=lb(g,f,c[1],c[2],c[3],c[4],c[5],c[6]),t=t.concat(g.min.x,g.max.x),l=l.concat(g.min.y,g.max.y),g=c[5],f=c[6]);a=P[R](0,t);c=P[R](0,l);t=M[R](0,t);l=M[R](0,l);d=t-a;e=l-c;l={x:a,y:c,x2:t,y2:l,width:d,height:e,cx:a+d/2,cy:c+e/2};b.bbox=h(l);return l},ha=function(a){a=h(a);a.toString=b._path2string;return a},Kb=b._pathToRelative=function(a){var n=qa(a);if(n.rel)return ha(n.rel);b.is(a,da)&&b.is(a&&a[0],da)||(a=b.parsePathString(a));var g=[],f=0,c=0,l=0,d=0,e=0;"M"==a[0][0]&&(f=a[0][1],c=
a[0][2],l=f,d=c,e++,g.push(["M",f,c]));for(var h=a.length;e<h;e++){var k=g[e]=[],G=a[e];if(G[0]!=za.call(G[0]))switch(k[0]=za.call(G[0]),k[0]){case "a":k[1]=G[1];k[2]=G[2];k[3]=G[3];k[4]=G[4];k[5]=G[5];k[6]=+(G[6]-f).toFixed(3);k[7]=+(G[7]-c).toFixed(3);break;case "v":k[1]=+(G[1]-c).toFixed(3);break;case "m":l=G[1],d=G[2];default:for(var m=1,q=G.length;m<q;m++)k[m]=+(G[m]-(m%2?f:c)).toFixed(3)}else for(g[e]=[],"m"==G[0]&&(l=G[1]+f,d=G[2]+c),k=0,m=G.length;k<m;k++)g[e][k]=G[k];G=g[e].length;switch(g[e][0]){case "z":f=
l;c=d;break;case "h":f+=+g[e][G-1];break;case "v":c+=+g[e][G-1];break;default:f+=+g[e][G-2],c+=+g[e][G-1]}}g.toString=b._path2string;n.rel=ha(g);return g},mb=b._pathToAbsolute=function(a){var n=qa(a);if(n.abs)return ha(n.abs);b.is(a,da)&&b.is(a&&a[0],da)||(a=b.parsePathString(a));if(!a||!a.length)return[["M",0,0]];var g=[],f=0,c=0,l=0,d=0,e=0;"M"==a[0][0]&&(f=+a[0][1],c=+a[0][2],l=f,d=c,e++,g[0]=["M",f,c]);for(var h=3==a.length&&"M"==a[0][0]&&"R"==a[1][0].toUpperCase()&&"Z"==a[2][0].toUpperCase(),
k,G=e,m=a.length;G<m;G++){g.push(e=[]);k=a[G];if(k[0]!=fb.call(k[0]))switch(e[0]=fb.call(k[0]),e[0]){case "A":e[1]=k[1];e[2]=k[2];e[3]=k[3];e[4]=k[4];e[5]=k[5];e[6]=+(k[6]+f);e[7]=+(k[7]+c);break;case "V":e[1]=+k[1]+c;break;case "H":e[1]=+k[1]+f;break;case "R":for(var p=[f,c].concat(k.slice(1)),r=2,s=p.length;r<s;r++)p[r]=+p[r]+f,p[++r]=+p[r]+c;g.pop();g=g.concat(q(p,h));break;case "M":l=+k[1]+f,d=+k[2]+c;default:for(r=1,s=k.length;r<s;r++)e[r]=+k[r]+(r%2?f:c)}else if("R"==k[0])p=[f,c].concat(k.slice(1)),
g.pop(),g=g.concat(q(p,h)),e=["R"].concat(k.slice(-2));else for(p=0,r=k.length;p<r;p++)e[p]=k[p];switch(e[0]){case "Z":f=l;c=d;break;case "H":f=e[1];break;case "V":c=e[1];break;case "M":l=e[e.length-2],d=e[e.length-1];default:f=e[e.length-2],c=e[e.length-1]}}g.toString=b._path2string;n.abs=ha(g);return g},Ea=function(a,b,g,f){return[a,b,g,f,g,f]},nb=function(a,b,g,f,c,l){var d=1/3,e=2/3;return[d*a+e*g,d*b+e*f,d*c+e*g,d*l+e*f,c,l]},ob=function(a,b,g,f,c,l,d,h,k,q){var G=120*ba/180,m=ba/180*(+c||0),
p=[],r,s=e(function(a,b,n){var f=a*u.cos(n)-b*u.sin(n);a=a*u.sin(n)+b*u.cos(n);return{x:f,y:a}});if(q)x=q[0],r=q[1],l=q[2],v=q[3];else{r=s(a,b,-m);a=r.x;b=r.y;r=s(h,k,-m);h=r.x;k=r.y;u.cos(ba/180*c);u.sin(ba/180*c);r=(a-h)/2;x=(b-k)/2;v=r*r/(g*g)+x*x/(f*f);1<v&&(v=u.sqrt(v),g*=v,f*=v);var v=g*g,O=f*f,v=(l==d?-1:1)*u.sqrt(U((v*O-v*x*x-O*r*r)/(v*x*x+O*r*r)));l=v*g*x/f+(a+h)/2;var v=v*-f*r/g+(b+k)/2,x=u.asin(((b-v)/f).toFixed(9));r=u.asin(((k-v)/f).toFixed(9));x=a<l?ba-x:x;r=h<l?ba-r:r;0>x&&(x=2*ba+
x);0>r&&(r=2*ba+r);d&&x>r&&(x-=2*ba);!d&&r>x&&(r-=2*ba)}if(U(r-x)>G){var p=r,O=h,w=k;r=x+G*(d&&r>x?1:-1);h=l+g*u.cos(r);k=v+f*u.sin(r);p=ob(h,k,g,f,c,0,d,O,w,[r,p,l,v])}l=r-x;c=u.cos(x);G=u.sin(x);d=u.cos(r);r=u.sin(r);l=u.tan(l/4);g=4/3*g*l;l*=4/3*f;f=[a,b];a=[a+g*G,b-l*c];b=[h+g*r,k-l*d];h=[h,k];a[0]=2*f[0]-a[0];a[1]=2*f[1]-a[1];if(q)return[a,b,h].concat(p);p=[a,b,h].concat(p).join().split(",");q=[];h=0;for(k=p.length;h<k;h++)q[h]=h%2?s(p[h-1],p[h],m).y:s(p[h],p[h+1],m).x;return q},Fa=function(a,
b,g,f,c,l,d,e,h){var k=1-h;return{x:ea(k,3)*a+3*ea(k,2)*h*g+3*k*h*h*c+ea(h,3)*d,y:ea(k,3)*b+3*ea(k,2)*h*f+3*k*h*h*l+ea(h,3)*e}},lb=e(function(a,b,g,f,c,l,d,e){var h=c-2*g+a-(d-2*c+g),k=2*(g-a)-2*(c-g),G=a-g,m=(-k+u.sqrt(k*k-4*h*G))/2/h,h=(-k-u.sqrt(k*k-4*h*G))/2/h,q=[b,e],r=[a,d];"1e12"<U(m)&&(m=.5);"1e12"<U(h)&&(h=.5);0<m&&1>m&&(m=Fa(a,b,g,f,c,l,d,e,m),r.push(m.x),q.push(m.y));0<h&&1>h&&(m=Fa(a,b,g,f,c,l,d,e,h),r.push(m.x),q.push(m.y));h=l-2*f+b-(e-2*l+f);k=2*(f-b)-2*(l-f);G=b-f;m=(-k+u.sqrt(k*k-
4*h*G))/2/h;h=(-k-u.sqrt(k*k-4*h*G))/2/h;"1e12"<U(m)&&(m=.5);"1e12"<U(h)&&(h=.5);0<m&&1>m&&(m=Fa(a,b,g,f,c,l,d,e,m),r.push(m.x),q.push(m.y));0<h&&1>h&&(m=Fa(a,b,g,f,c,l,d,e,h),r.push(m.x),q.push(m.y));return{min:{x:P[R](0,r),y:P[R](0,q)},max:{x:M[R](0,r),y:M[R](0,q)}}}),ta=b._path2curve=e(function(a,b){var g=!b&&qa(a);if(!b&&g.curve)return ha(g.curve);var f=mb(a),c=b&&mb(b),l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},d={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},e=function(a,b,n){if(!a)return["C",
b.x,b.y,b.x,b.y,b.x,b.y];a[0]in{T:1,Q:1}||(b.qx=b.qy=null);switch(a[0]){case "M":b.X=a[1];b.Y=a[2];break;case "A":a=["C"].concat(ob[R](0,[b.x,b.y].concat(a.slice(1))));break;case "S":"C"==n||"S"==n?(n=2*b.x-b.bx,b=2*b.y-b.by):(n=b.x,b=b.y);a=["C",n,b].concat(a.slice(1));break;case "T":"Q"==n||"T"==n?(b.qx=2*b.x-b.qx,b.qy=2*b.y-b.qy):(b.qx=b.x,b.qy=b.y);a=["C"].concat(nb(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case "Q":b.qx=a[1];b.qy=a[2];a=["C"].concat(nb(b.x,b.y,a[1],a[2],a[3],a[4]));break;case "L":a=
["C"].concat(Ea(b.x,b.y,a[1],a[2]));break;case "H":a=["C"].concat(Ea(b.x,b.y,a[1],b.y));break;case "V":a=["C"].concat(Ea(b.x,b.y,b.x,a[1]));break;case "Z":a=["C"].concat(Ea(b.x,b.y,b.X,b.Y))}return a},h=function(a,b){if(7<a[b].length){a[b].shift();for(var n=a[b];n.length;)a.splice(b++,0,["C"].concat(n.splice(0,6)));a.splice(b,1);m=M(f.length,c&&c.length||0)}},k=function(a,b,n,g,l){a&&b&&"M"==a[l][0]&&"M"!=b[l][0]&&(b.splice(l,0,["M",g.x,g.y]),n.bx=0,n.by=0,n.x=a[l][1],n.y=a[l][2],m=M(f.length,c&&
c.length||0))},q=0,m=M(f.length,c&&c.length||0);for(;q<m;q++){f[q]=e(f[q],l);h(f,q);c&&(c[q]=e(c[q],d));c&&h(c,q);k(f,c,l,d,q);k(c,f,d,l,q);var p=f[q],r=c&&c[q],s=p.length,v=c&&r.length;l.x=p[s-2];l.y=p[s-1];l.bx=J(p[s-4])||l.x;l.by=J(p[s-3])||l.y;d.bx=c&&(J(r[v-4])||d.x);d.by=c&&(J(r[v-3])||d.y);d.x=c&&r[v-2];d.y=c&&r[v-1]}c||(g.curve=ha(f));return c?[f,c]:f},null,ha);b._parseDots=e(function(a){for(var n=[],g=0,f=a.length;g<f;g++){var c={},l=a[g].match(/^([^:]*):?([\d\.]*)/);c.color=b.getRGB(l[1]);
if(c.color.error)return null;c.color=c.color.hex;l[2]&&(c.offset=l[2]+"%");n.push(c)}g=1;for(f=n.length-1;g<f;g++)if(!n[g].offset){a=J(n[g-1].offset||0);l=0;for(c=g+1;c<f;c++)if(n[c].offset){l=n[c].offset;break}l||(l=100,c=f);l=J(l);for(l=(l-a)/(c-g+1);g<c;g++)a+=l,n[g].offset=a+"%"}return n});var Ga=b._tear=function(a,b){a==b.top&&(b.top=a.prev);a==b.bottom&&(b.bottom=a.next);a.next&&(a.next.prev=a.prev);a.prev&&(a.prev.next=a.next)};b._tofront=function(a,b){b.top!==a&&(Ga(a,b),a.next=null,a.prev=
b.top,b.top.next=a,b.top=a)};b._toback=function(a,b){b.bottom!==a&&(Ga(a,b),a.next=b.bottom,a.prev=null,b.bottom.prev=a,b.bottom=a)};b._insertafter=function(a,b,g){Ga(a,g);b==g.top&&(g.top=a);b.next&&(b.next.prev=a);a.next=b.next;a.prev=b;b.next=a};b._insertbefore=function(a,b,g){Ga(a,g);b==g.bottom&&(g.bottom=a);b.prev&&(b.prev.next=a);a.prev=b.prev;b.prev=a;a.next=b};var Lb=b.toMatrix=function(a,b){var g=Qa(a),f={_:{transform:""},getBBox:function(){return g}};ab(f,b);return f.matrix};b.transformPath=
function(a,b){return Oa(a,Lb(a,b))};var ab=b._extractTransform=function(a,n){if(null==n)return a._.transform;n=aa(n).replace(/\.{3}|\u2026/g,a._.transform||"");var g=b.parseTransformString(n),f=0,c=0,l=0,d=1,e=1,h=a._,l=new ga;h.transform=g||[];if(g)for(var c=0,k=g.length;c<k;c++){var q=g[c],m=q.length,p=aa(q[0]).toLowerCase(),r=q[0]!=p,s=r?l.invert():0,v;"t"==p&&3==m?r?(m=s.x(0,0),p=s.y(0,0),r=s.x(q[1],q[2]),s=s.y(q[1],q[2]),l.translate(r-m,s-p)):l.translate(q[1],q[2]):"r"==p?2==m?(v=v||a.getBBox(1),
l.rotate(q[1],v.x+v.width/2,v.y+v.height/2),f+=q[1]):4==m&&(r?(r=s.x(q[2],q[3]),s=s.y(q[2],q[3]),l.rotate(q[1],r,s)):l.rotate(q[1],q[2],q[3]),f+=q[1]):"s"==p?2==m||3==m?(v=v||a.getBBox(1),l.scale(q[1],q[m-1],v.x+v.width/2,v.y+v.height/2),d*=q[1],e*=q[m-1]):5==m&&(r?(r=s.x(q[3],q[4]),s=s.y(q[3],q[4]),l.scale(q[1],q[2],r,s)):l.scale(q[1],q[2],q[3],q[4]),d*=q[1],e*=q[2]):"m"==p&&7==m&&l.add(q[1],q[2],q[3],q[4],q[5],q[6]);h.dirtyT=1;a.matrix=l}a.matrix=l;h.sx=d;h.sy=e;h.deg=f;h.dx=c=l.e;h.dy=l=l.f;1==
d&&1==e&&!f&&h.bbox?(h.bbox.x+=+c,h.bbox.y+=+l):h.dirtyT=1},pb=function(a){var b=a[0];switch(b.toLowerCase()){case "t":return[b,0,0];case "m":return[b,1,0,0,1,0,0];case "r":return 4==a.length?[b,0,a[2],a[3]]:[b,0];case "s":return 5==a.length?[b,1,1,a[3],a[4]]:3==a.length?[b,1,1]:[b,1]}},wb=b._equaliseTransform=function(a,n){n=aa(n).replace(/\.{3}|\u2026/g,a);a=b.parseTransformString(a)||[];n=b.parseTransformString(n)||[];for(var g=M(a.length,n.length),f=[],c=[],l=0,d,e,h,k;l<g;l++){h=a[l]||pb(n[l]);
k=n[l]||pb(h);if(h[0]!=k[0]||"r"==h[0].toLowerCase()&&(h[2]!=k[2]||h[3]!=k[3])||"s"==h[0].toLowerCase()&&(h[3]!=k[3]||h[4]!=k[4]))return;f[l]=[];c[l]=[];d=0;for(e=M(h.length,k.length);d<e;d++)d in h&&(f[l][d]=h[d]),d in k&&(c[l][d]=k[d])}return{from:f,to:c}};b._getContainer=function(a,n,g,f){var c;c=null!=f||b.is(a,"object")?a:s.doc.getElementById(a);if(null!=c)return c.tagName?null==n?{container:c,width:c.style.pixelWidth||c.offsetWidth,height:c.style.pixelHeight||c.offsetHeight}:{container:c,width:n,
height:g}:{container:1,x:a,y:n,width:g,height:f}};b.pathToRelative=Kb;b._engine={};b.path2curve=ta;b.matrix=function(a,b,g,f,c,l){return new ga(a,b,g,f,c,l)};(function(a){function n(a){return a[0]*a[0]+a[1]*a[1]}function g(a){var b=u.sqrt(n(a));a[0]&&(a[0]/=b);a[1]&&(a[1]/=b)}a.add=function(a,b,n,g,c,d){var e=[[],[],[]],h=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]];b=[[a,n,c],[b,g,d],[0,0,1]];a&&a instanceof ga&&(b=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]);for(a=0;3>a;a++)for(n=0;3>n;n++){for(g=
c=0;3>g;g++)c+=h[a][g]*b[g][n];e[a][n]=c}this.a=e[0][0];this.b=e[1][0];this.c=e[0][1];this.d=e[1][1];this.e=e[0][2];this.f=e[1][2]};a.invert=function(){var a=this.a*this.d-this.b*this.c;return new ga(this.d/a,-this.b/a,-this.c/a,this.a/a,(this.c*this.f-this.d*this.e)/a,(this.b*this.e-this.a*this.f)/a)};a.clone=function(){return new ga(this.a,this.b,this.c,this.d,this.e,this.f)};a.translate=function(a,b){this.add(1,0,0,1,a,b)};a.scale=function(a,b,n,g){null==b&&(b=a);(n||g)&&this.add(1,0,0,1,n,g);
this.add(a,0,0,b,0,0);(n||g)&&this.add(1,0,0,1,-n,-g)};a.rotate=function(a,n,g){a=b.rad(a);n=n||0;g=g||0;var c=+u.cos(a).toFixed(9);a=+u.sin(a).toFixed(9);this.add(c,a,-a,c,n,g);this.add(1,0,0,1,-n,-g)};a.x=function(a,b){return a*this.a+b*this.c+this.e};a.y=function(a,b){return a*this.b+b*this.d+this.f};a.get=function(a){return+this[aa.fromCharCode(97+a)].toFixed(4)};a.toString=function(){return b.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),
this.get(2),this.get(1),this.get(3),0,0].join()};a.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"};a.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]};a.split=function(){var a={};a.dx=this.e;a.dy=this.f;var c=[[this.a,this.c],[this.b,this.d]];a.scalex=u.sqrt(n(c[0]));g(c[0]);a.shear=c[0][0]*c[1][0]+c[0][1]*c[1][1];
c[1]=[c[1][0]-c[0][0]*a.shear,c[1][1]-c[0][1]*a.shear];a.scaley=u.sqrt(n(c[1]));g(c[1]);a.shear/=a.scaley;var l=-c[0][1],c=c[1][1];0>c?(a.rotate=b.deg(u.acos(c)),0>l&&(a.rotate=360-a.rotate)):a.rotate=b.deg(u.asin(l));a.isSimple=!+a.shear.toFixed(9)&&(a.scalex.toFixed(9)==a.scaley.toFixed(9)||!a.rotate);a.isSuperSimple=!+a.shear.toFixed(9)&&a.scalex.toFixed(9)==a.scaley.toFixed(9)&&!a.rotate;a.noRotation=!+a.shear.toFixed(9)&&!a.rotate;return a};a.toTransformString=function(a){a=a||this.split();return a.isSimple?
(a.scalex=+a.scalex.toFixed(4),a.scaley=+a.scaley.toFixed(4),a.rotate=+a.rotate.toFixed(4),(a.dx||a.dy?"t"+[a.dx,a.dy]:"")+(1!=a.scalex||1!=a.scaley?"s"+[a.scalex,a.scaley,0,0]:"")+(a.rotate?"r"+[a.rotate,0,0]:"")):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}})(ga.prototype);var Ha=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);"Apple Computer, Inc."==navigator.vendor&&(Ha&&4>Ha[1]||"iP"==navigator.platform.slice(0,2))||
"Google Inc."==navigator.vendor&&Ha&&8>Ha[1]?N.safari=function(){var a=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){a.remove()})}:N.safari=Hb;for(var Mb=function(){this.returnValue=!1},Nb=function(){return this.originalEvent.preventDefault()},Ob=function(){this.cancelBubble=!0},Pb=function(){return this.originalEvent.stopPropagation()},qb=function(a){return{x:a.clientX+(s.doc.documentElement.scrollLeft||s.doc.body.scrollLeft),y:a.clientY+(s.doc.documentElement.scrollTop||
s.doc.body.scrollTop)}},Qb=function(){if(s.doc.addEventListener)return function(a,b,g,c){var d=function(a){var b=qb(a);return g.call(c,a,b.x,b.y)};a.addEventListener(b,d,!1);xa&&ya[b]&&a.addEventListener(ya[b],function(b){for(var n=qb(b),d=b,e=0,h=b.targetTouches&&b.targetTouches.length;e<h;e++)if(b.targetTouches[e].target==a){b=b.targetTouches[e];b.originalEvent=d;b.preventDefault=Nb;b.stopPropagation=Pb;break}return g.call(c,b,n.x,n.y)},!1);return function(){a.removeEventListener(b,d,!1);xa&&ya[b]&&
a.removeEventListener(ya[b],d,!1);return!0}};if(s.doc.attachEvent)return function(a,b,g,c){var d=function(a){a=a||s.win.event;var b=a.clientX+(s.doc.documentElement.scrollLeft||s.doc.body.scrollLeft),n=a.clientY+(s.doc.documentElement.scrollTop||s.doc.body.scrollTop);a.preventDefault=a.preventDefault||Mb;a.stopPropagation=a.stopPropagation||Ob;return g.call(c,a,b,n)};a.attachEvent("on"+b,d);return function(){a.detachEvent("on"+b,d);return!0}}}(),na=[],Ra=function(a){for(var b=a.clientX,c=a.clientY,
f=s.doc.documentElement.scrollTop||s.doc.body.scrollTop,e=s.doc.documentElement.scrollLeft||s.doc.body.scrollLeft,l,h=na.length;h--;){l=na[h];if(xa&&a.touches)for(var k=a.touches.length,q;k--;){if(q=a.touches[k],q.identifier==l.el._drag.id){b=q.clientX;c=q.clientY;(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();var k=l.el.node,p=k.nextSibling,G=k.parentNode,m=k.style.display;s.win.opera&&G.removeChild(k);k.style.display="none";q=l.el.paper.getElementByPoint(b,c);
k.style.display=m;s.win.opera&&(p?G.insertBefore(k,p):G.appendChild(k));q&&d("raphael.drag.over."+l.el.id,l.el,q);b+=e;c+=f;d("raphael.drag.move."+l.el.id,l.move_scope||l.el,b-l.el._drag.x,c-l.el._drag.y,b,c,a)}},Sa=function(a){b.unmousemove(Ra).unmouseup(Sa);for(var n=na.length,c;n--;)c=na[n],c.el._drag={},d("raphael.drag.end."+c.el.id,c.end_scope||c.start_scope||c.move_scope||c.el,a);na=[]},C=b.el={},rb=eb.length;rb--;)(function(a){b[a]=C[a]=function(n,c){b.is(n,"function")&&(this.events=this.events||
[],this.events.push({name:a,f:n,unbind:Qb(this.shape||this.node||s.doc,a,n,c||this)}));return this};b["un"+a]=C["un"+a]=function(n){for(var c=this.events||[],f=c.length;f--;)c[f].name!=a||!b.is(n,"undefined")&&c[f].f!=n||(c[f].unbind(),c.splice(f,1),!c.length&&delete this.events);return this}})(eb[rb]);C.data=function(a,c){var g=ra[this.id]=ra[this.id]||{};if(0==arguments.length)return g;if(1==arguments.length){if(b.is(a,"object")){for(var f in a)a.hasOwnProperty(f)&&this.data(f,a[f]);return this}d("raphael.data.get."+
this.id,this,g[a],a);return g[a]}g[a]=c;d("raphael.data.set."+this.id,this,c,a);return this};C.removeData=function(a){null==a?ra[this.id]={}:ra[this.id]&&delete ra[this.id][a];return this};C.getData=function(){return h(ra[this.id]||{})};C.hover=function(a,b,c,f){return this.mouseover(a,c).mouseout(b,f||c)};C.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};var sa=[];C.drag=function(a,c,g,f,e,l){function h(k){(k.originalEvent||k).preventDefault();var q=k.clientX,p=k.clientY,Za=s.doc.documentElement.scrollTop||
s.doc.body.scrollTop,m=s.doc.documentElement.scrollLeft||s.doc.body.scrollLeft;this._drag.id=k.identifier;if(xa&&k.touches)for(var u=k.touches.length,r;u--;)if(r=k.touches[u],this._drag.id=r.identifier,r.identifier==this._drag.id){q=r.clientX;p=r.clientY;break}this._drag.x=q+m;this._drag.y=p+Za;!na.length&&b.mousemove(Ra).mouseup(Sa);na.push({el:this,move_scope:f,start_scope:e,end_scope:l});c&&d.on("raphael.drag.start."+this.id,c);a&&d.on("raphael.drag.move."+this.id,a);g&&d.on("raphael.drag.end."+
this.id,g);d("raphael.drag.start."+this.id,e||f||this,k.clientX+m,k.clientY+Za,k)}this._drag={};sa.push({el:this,start:h});this.mousedown(h);return this};C.onDragOver=function(a){a?d.on("raphael.drag.over."+this.id,a):d.unbind("raphael.drag.over."+this.id)};C.undrag=function(){for(var a=sa.length;a--;)sa[a].el==this&&(this.unmousedown(sa[a].start),sa.splice(a,1),d.unbind("raphael.drag.*."+this.id));!sa.length&&b.unmousemove(Ra).unmouseup(Sa);na=[]};N.circle=function(a,c,g){a=b._engine.circle(this,
a||0,c||0,g||0);this.__set__&&this.__set__.push(a);return a};N.rect=function(a,c,g,f,d){a=b._engine.rect(this,a||0,c||0,g||0,f||0,d||0);this.__set__&&this.__set__.push(a);return a};N.ellipse=function(a,c,g,f){a=b._engine.ellipse(this,a||0,c||0,g||0,f||0);this.__set__&&this.__set__.push(a);return a};N.path=function(a){a&&!b.is(a,"string")&&!b.is(a[0],da)&&(a+="");var c=b._engine.path(b.format[R](b,arguments),this);this.__set__&&this.__set__.push(c);return c};N.image=function(a,c,g,f,d){a=b._engine.image(this,
a||"about:blank",c||0,g||0,f||0,d||0);this.__set__&&this.__set__.push(a);return a};N.text=function(a,c,g){a=b._engine.text(this,a||0,c||0,aa(g));this.__set__&&this.__set__.push(a);return a};N.set=function(a){!b.is(a,"array")&&(a=Array.prototype.splice.call(arguments,0,arguments.length));var c=new ua(a);this.__set__&&this.__set__.push(c);c.paper=this;c.type="set";return c};N.setStart=function(a){this.__set__=a||this.set()};N.setFinish=function(a){a=this.__set__;delete this.__set__;return a};N.setSize=
function(a,c){return b._engine.setSize.call(this,a,c)};N.setViewBox=function(a,c,g,f,d){return b._engine.setViewBox.call(this,a,c,g,f,d)};N.top=N.bottom=null;N.raphael=b;N.getElementByPoint=function(a,b){var c,f,d=this.canvas,l=s.doc.elementFromPoint(a,b);if(s.win.opera&&"svg"==l.tagName){f=d.getBoundingClientRect();c=d.ownerDocument;var e=c.body,h=c.documentElement;c=f.top+(s.win.pageYOffset||h.scrollTop||e.scrollTop)-(h.clientTop||e.clientTop||0);f=f.left+(s.win.pageXOffset||h.scrollLeft||e.scrollLeft)-
(h.clientLeft||e.clientLeft||0);e=d.createSVGRect();e.x=a-f;e.y=b-c;e.width=e.height=1;c=d.getIntersectionList(e,null);c.length&&(l=c[c.length-1])}if(!l)return null;for(;l.parentNode&&l!=d.parentNode&&!l.raphael;)l=l.parentNode;l==this.canvas.parentNode&&(l=d);return l=l&&l.raphael?this.getById(l.raphaelid):null};N.getElementsByBBox=function(a){var c=this.set();this.forEach(function(g){b.isBBoxIntersect(g.getBBox(),a)&&c.push(g)});return c};N.getById=function(a){for(var b=this.bottom;b;){if(b.id==
a)return b;b=b.next}return null};N.forEach=function(a,b){for(var c=this.bottom;c&&!1!==a.call(b,c);)c=c.next;return this};N.getElementsByPoint=function(a,b){var c=this.set();this.forEach(function(f){f.isPointInside(a,b)&&c.push(f)});return c};C.isPointInside=function(a,c){var g=this.realPath=Ba[this.type](this);this.attr("transform")&&this.attr("transform").length&&(g=b.transformPath(g,this.attr("transform")));return b.isPointInsidePath(g,a,c)};C.getBBox=function(a){if(this.removed)return{};var b=
this._;if(a){if(b.dirty||!b.bboxwt)this.realPath=Ba[this.type](this),b.bboxwt=Qa(this.realPath),b.bboxwt.toString=Ya,b.dirty=0;return b.bboxwt}if(b.dirty||b.dirtyT||!b.bbox){if(b.dirty||!this.realPath)b.bboxwt=0,this.realPath=Ba[this.type](this);b.bbox=Qa(Oa(this.realPath,this.matrix));b.bbox.toString=Ya;b.dirty=b.dirtyT=0}return b.bbox};C.clone=function(){if(this.removed)return null;var a=this.paper[this.type]().attr(this.attr());this.__set__&&this.__set__.push(a);return a};C.glow=function(a){if("text"==
this.type)return null;a=a||{};var b=(a.width||10)+(+this.attr("stroke-width")||1),c=a.fill||!1,f=a.opacity||.5,d=a.offsetx||0,l=a.offsety||0;a=a.color||"#000";for(var e=b/2,h=this.paper,k=h.set(),q=this.realPath||Ba[this.type](this),q=this.matrix?Oa(q,this.matrix):q,p=1;p<e+1;p++)k.push(h.path(q).attr({stroke:a,fill:c?a:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(b/e*p).toFixed(3),opacity:+(f/e).toFixed(3)}));return k.insertBefore(this).translate(d,l)};var Ta=function(a,
c,g,f,d,l,e,h,k){return null==k?p(a,c,g,f,d,l,e,h):b.findDotsAtSegment(a,c,g,f,d,l,e,h,z(a,c,g,f,d,l,e,h,k))},Ua=function(a,c){return function(g,f,d){g=ta(g);for(var l,e,h,k,q="",p={},m=0,s=0,r=g.length;s<r;s++){h=g[s];if("M"==h[0])l=+h[1],e=+h[2];else{k=Ta(l,e,h[1],h[2],h[3],h[4],h[5],h[6]);if(m+k>f){if(c&&!p.start){l=Ta(l,e,h[1],h[2],h[3],h[4],h[5],h[6],f-m);q+=["C"+l.start.x,l.start.y,l.m.x,l.m.y,l.x,l.y];if(d)return q;p.start=q;q=["M"+l.x,l.y+"C"+l.n.x,l.n.y,l.end.x,l.end.y,h[5],h[6]].join();
m+=k;l=+h[5];e=+h[6];continue}if(!a&&!c)return l=Ta(l,e,h[1],h[2],h[3],h[4],h[5],h[6],f-m),{x:l.x,y:l.y,alpha:l.alpha}}m+=k;l=+h[5];e=+h[6]}q+=h.shift()+h}p.end=q;l=a?m:c?p:b.findDotsAtSegment(l,e,h[0],h[1],h[2],h[3],h[4],h[5],1);l.alpha&&(l={x:l.x,y:l.y,alpha:l.alpha});return l}},sb=Ua(1),tb=Ua(),Va=Ua(0,1);b.getTotalLength=sb;b.getPointAtLength=tb;b.getSubpath=function(a,b,c){if(1E-6>this.getTotalLength(a)-c)return Va(a,b).end;a=Va(a,c,1);return b?Va(a,b).end:a};C.getTotalLength=function(){var a=
this.getPath();if(a)return this.node.getTotalLength?this.node.getTotalLength():sb(a)};C.getPointAtLength=function(a){var b=this.getPath();if(b)return tb(b,a)};C.getPath=function(){var a,c=b._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return c&&(a=c(this)),a};C.getSubpath=function(a,c){var g=this.getPath();if(g)return b.getSubpath(g,a,c)};var fa=b.easing_formulas={linear:function(a){return a},"<":function(a){return ea(a,1.7)},">":function(a){return ea(a,.48)},"<>":function(a){var b=
.48-a/1.04,c=u.sqrt(.1734+b*b);a=c-b;a=ea(U(a),1/3)*(0>a?-1:1);b=-c-b;b=ea(U(b),1/3)*(0>b?-1:1);a=a+b+.5;return 3*(1-a)*a*a+a*a*a},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){--a;return a*a*(2.70158*a+1.70158)+1},elastic:function(a){return a==!!a?a:ea(2,-10*a)*u.sin(2*(a-.075)*ba/.3)+1},bounce:function(a){a<1/2.75?a*=7.5625*a:a<2/2.75?(a-=1.5/2.75,a=7.5625*a*a+.75):a<2.5/2.75?(a-=2.25/2.75,a=7.5625*a*a+.9375):(a-=2.625/2.75,a=7.5625*a*a+.984375);return a}};fa.easeIn=fa["ease-in"]=
fa["<"];fa.easeOut=fa["ease-out"]=fa[">"];fa.easeInOut=fa["ease-in-out"]=fa["<>"];fa["back-in"]=fa.backIn;fa["back-out"]=fa.backOut;var A=[],bb=c.requestAnimationFrame||c.webkitRequestAnimationFrame||c.mozRequestAnimationFrame||c.oRequestAnimationFrame||c.msRequestAnimationFrame||function(a){setTimeout(a,16)},La=function(){for(var a=+new Date,c=0;c<A.length;c++){var g=A[c];if(!g.el.removed&&!g.paused){var f=a-g.start,e=g.ms,l=g.easing,h=g.from,k=g.diff,q=g.to,p=g.el,s={},m,u={},r;g.initstatus?(f=
(g.initstatus*g.anim.top-g.prev)/(g.percent-g.prev)*e,g.status=g.initstatus,delete g.initstatus,g.stop&&A.splice(c--,1)):g.status=(g.prev+f/e*(g.percent-g.prev))/g.anim.top;if(!(0>f))if(f<e){var z=l(f/e),v;for(v in h)if(h.hasOwnProperty(v)){switch(Ka[v]){case W:m=+h[v]+z*e*k[v];break;case "colour":m="rgb("+[Wa(Ma(h[v].r+z*e*k[v].r)),Wa(Ma(h[v].g+z*e*k[v].g)),Wa(Ma(h[v].b+z*e*k[v].b))].join()+")";break;case "path":m=[];f=0;for(l=h[v].length;f<l;f++){m[f]=[h[v][f][0]];q=1;for(u=h[v][f].length;q<u;q++)m[f][q]=
+h[v][f][q]+z*e*k[v][f][q];m[f]=m[f].join(" ")}m=m.join(" ");break;case "transform":if(k[v].real)for(m=[],f=0,l=h[v].length;f<l;f++)for(m[f]=[h[v][f][0]],q=1,u=h[v][f].length;q<u;q++)m[f][q]=h[v][f][q]+z*e*k[v][f][q];else m=function(a){return+h[v][a]+z*e*k[v][a]},m=[["m",m(0),m(1),m(2),m(3),m(4),m(5)]];break;case "csv":if("clip-rect"==v)for(m=[],f=4;f--;)m[f]=+h[v][f]+z*e*k[v][f];break;default:for(l=[].concat(h[v]),m=[],f=p.paper.customAttributes[v].length;f--;)m[f]=+l[f]+z*e*k[v][f]}s[v]=m}p.attr(s);
(function(a,b,c){setTimeout(function(){d("raphael.anim.frame."+a,b,c)})})(p.id,p,g.anim)}else{(function(a,c,g){setTimeout(function(){d("raphael.anim.frame."+c.id,c,g);d("raphael.anim.finish."+c.id,c,g);b.is(a,"function")&&a.call(c)})})(g.callback,p,g.anim);p.attr(q);A.splice(c--,1);if(1<g.repeat&&!g.next){for(r in q)q.hasOwnProperty(r)&&(u[r]=g.totalOrigin[r]);g.el.attr(u);D(g.anim,g.el,g.anim.percents[0],null,g.totalOrigin,g.repeat-1)}g.next&&!g.stop&&D(g.anim,g.el,g.next,null,g.totalOrigin,g.repeat)}}}b.svg&&
p&&p.paper&&p.paper.safari();A.length&&bb(La)},Wa=function(a){return 255<a?255:0>a?0:a};C.animateWith=function(a,c,g,f,d,l){if(this.removed)return l&&l.call(this),this;g=g instanceof H?g:b.animation(g,f,d,l);D(g,this,g.percents[0],null,this.attr());g=0;for(f=A.length;g<f;g++)if(A[g].anim==c&&A[g].el==a){A[f-1].start=A[g].start;break}return this};C.onAnimation=function(a){a?d.on("raphael.anim.frame."+this.id,a):d.unbind("raphael.anim.frame."+this.id);return this};H.prototype.delay=function(a){var b=
new H(this.anim,this.ms);b.times=this.times;b.del=+a||0;return b};H.prototype.repeat=function(a){var b=new H(this.anim,this.ms);b.del=this.del;b.times=u.floor(M(a,0))||1;return b};b.animation=function(a,c,g,f){if(a instanceof H)return a;if(b.is(g,"function")||!g)f=f||g||null,g=null;a=Object(a);c=+c||0;var d={},l,e;for(e in a)a.hasOwnProperty(e)&&J(e)!=e&&J(e)+"%"!=e&&(l=!0,d[e]=a[e]);return l?(g&&(d.easing=g),f&&(d.callback=f),new H({100:d},c)):new H(a,c)};C.animate=function(a,c,g,f){if(this.removed)return f&&
f.call(this),this;a=a instanceof H?a:b.animation(a,c,g,f);D(a,this,a.percents[0],null,this.attr());return this};C.setTime=function(a,b){a&&null!=b&&this.status(a,P(b,a.ms)/a.ms);return this};C.status=function(a,b){var c=[],f=0,d,l;if(null!=b)return D(a,this,-1,P(b,1)),this;for(d=A.length;f<d;f++)if(l=A[f],l.el.id==this.id&&(!a||l.anim==a)){if(a)return l.status;c.push({anim:l.anim,status:l.status})}return a?0:c};C.pause=function(a){for(var b=0;b<A.length;b++)A[b].el.id!=this.id||a&&A[b].anim!=a||!1===
d("raphael.anim.pause."+this.id,this,A[b].anim)||(A[b].paused=!0);return this};C.resume=function(a){for(var b=0;b<A.length;b++)if(A[b].el.id==this.id&&(!a||A[b].anim==a)){var c=A[b];!1!==d("raphael.anim.resume."+this.id,this,c.anim)&&(delete c.paused,this.status(c.anim,c.status))}return this};C.stop=function(a){for(var b=0;b<A.length;b++)A[b].el.id!=this.id||a&&A[b].anim!=a||!1!==d("raphael.anim.stop."+this.id,this,A[b].anim)&&A.splice(b--,1);return this};d.on("raphael.remove",X);d.on("raphael.clear",
X);C.toString=function(){return"Rapha\u00ebl\u2019s object"};var ua=function(a){this.items=[];this.length=0;this.type="set";if(a)for(var b=0,c=a.length;b<c;b++)!a[b]||a[b].constructor!=C.constructor&&a[b].constructor!=ua||(this[this.items.length]=this.items[this.items.length]=a[b],this.length++)},Z=ua.prototype;Z.push=function(){for(var a,b,c=0,f=arguments.length;c<f;c++)!(a=arguments[c])||a.constructor!=C.constructor&&a.constructor!=ua||(b=this.items.length,this[b]=this.items[b]=a,this.length++);
return this};Z.pop=function(){this.length&&delete this[this.length--];return this.items.pop()};Z.forEach=function(a,b){for(var c=0,f=this.items.length;c<f&&!1!==a.call(b,this.items[c],c);c++);return this};for(var Xa in C)C.hasOwnProperty(Xa)&&(Z[Xa]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a][R](c,b)})}}(Xa));Z.attr=function(a,c){if(a&&b.is(a,da)&&b.is(a[0],"object"))for(var g=0,f=a.length;g<f;g++)this.items[g].attr(a[g]);else for(g=0,f=this.items.length;g<f;g++)this.items[g].attr(a,
c);return this};Z.clear=function(){for(;this.length;)this.pop()};Z.splice=function(a,b,c){a=0>a?M(this.length+a,0):a;b=M(0,P(this.length-a,b));var f=[],d=[],l=[],e;for(e=2;e<arguments.length;e++)l.push(arguments[e]);for(e=0;e<b;e++)d.push(this[a+e]);for(;e<this.length-a;e++)f.push(this[a+e]);var h=l.length;for(e=0;e<h+f.length;e++)this.items[a+e]=this[a+e]=e<h?l[e]:f[e-h];for(e=this.items.length=this.length-=b-h;this[e];)delete this[e++];return new ua(d)};Z.exclude=function(a){for(var b=0,c=this.length;b<
c;b++)if(this[b]==a)return this.splice(b,1),!0};Z.animate=function(a,c,g,f){!b.is(g,"function")&&g||(f=g||null);var e=this.items.length,d=e,h=this,k;if(!e)return this;f&&(k=function(){!--e&&f.call(h)});g=b.is(g,"string")?g:k;c=b.animation(a,c,g,k);for(a=this.items[--d].animate(c);d--;)this.items[d]&&!this.items[d].removed&&this.items[d].animateWith(a,c,c),this.items[d]&&!this.items[d].removed||e--;return this};Z.insertAfter=function(a){for(var b=this.items.length;b--;)this.items[b].insertAfter(a);
return this};Z.getBBox=function(){for(var a=[],b=[],c=[],f=[],e=this.items.length;e--;)if(!this.items[e].removed){var d=this.items[e].getBBox();a.push(d.x);b.push(d.y);c.push(d.x+d.width);f.push(d.y+d.height)}a=P[R](0,a);b=P[R](0,b);c=M[R](0,c);f=M[R](0,f);return{x:a,y:b,x2:c,y2:f,width:c-a,height:f-b}};Z.clone=function(a){a=this.paper.set();for(var b=0,c=this.items.length;b<c;b++)a.push(this.items[b].clone());return a};Z.toString=function(){return"Rapha\u00ebl\u2018s set"};Z.glow=function(a){var b=
this.paper.set();this.forEach(function(c,f){var e=c.glow(a);null!=e&&e.forEach(function(a,c){b.push(a)})});return b};Z.isPointInside=function(a,b){var c=!1;this.forEach(function(f){if(f.isPointInside(a,b))return c=!0,!1});return c};b.registerFont=function(a){if(!a.face)return a;this.fonts=this.fonts||{};var b={w:a.w,face:{},glyphs:{}},c=a.face["font-family"],f;for(f in a.face)a.face.hasOwnProperty(f)&&(b.face[f]=a.face[f]);this.fonts[c]?this.fonts[c].push(b):this.fonts[c]=[b];if(!a.svg){b.face["units-per-em"]=
pa(a.face["units-per-em"],10);for(var e in a.glyphs)if(a.glyphs.hasOwnProperty(e)&&(c=a.glyphs[e],b.glyphs[e]={w:c.w,k:{},d:c.d&&"M"+c.d.replace(/[mlcxtrv]/g,function(a){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[a]||"M"})+"z"},c.k))for(var d in c.k)c.hasOwnProperty(d)&&(b.glyphs[e].k[d]=c.k[d])}return a};N.getFont=function(a,c,g,f){f=f||"normal";g=g||"normal";c=+c||{normal:400,bold:700,lighter:300,bolder:800}[c]||400;if(b.fonts){var e=b.fonts[a];if(!e){a=new RegExp("(^|\\s)"+a.replace(/[^\w\d\s+!~.:_-]/g,
"")+"(\\s|$)","i");for(var d in b.fonts)if(b.fonts.hasOwnProperty(d)&&a.test(d)){e=b.fonts[d];break}}var h;if(e)for(d=0,a=e.length;d<a&&(h=e[d],h.face["font-weight"]!=c||h.face["font-style"]!=g&&h.face["font-style"]||h.face["font-stretch"]!=f);d++);return h}};N.print=function(a,c,e,f,d,h,k,q){h=h||"middle";k=M(P(k||0,1),-1);q=M(P(q||1,3),1);e=aa(e).split("");var p=0,s=0,u="";b.is(f,"string")&&(f=this.getFont(f));if(f){d=(d||16)/f.face["units-per-em"];var m=f.face.bbox.split(Q),z=+m[0],r=m[3]-m[1],
A=0;h=+m[1]+("baseline"==h?r+ +f.face.descent:r/2);for(var m=0,v=e.length;m<v;m++){if("\n"==e[m])s=x=p=0,A+=r*q;else var D=s&&f.glyphs[e[m-1]]||{},x=f.glyphs[e[m]],p=p+(s?(D.w||f.w)+(D.k&&D.k[e[m]]||0)+f.w*k:0),s=1;x&&x.d&&(u+=b.transformPath(x.d,["t",p*d,A*d,"s",d,d,z,h,"t",(a-z)/d,(c-h)/d]))}}return this.path(u).attr({fill:"#000",stroke:"none"})};N.add=function(a){if(b.is(a,"array"))for(var c=this.set(),e=0,f=a.length,d;e<f;e++)d=a[e]||{},oa.hasOwnProperty(d.type)&&c.push(this[d.type]().attr(d));
return c};b.format=function(a,c){var e=b.is(c,da)?[0].concat(c):arguments;a&&b.is(a,"string")&&e.length-1&&(a=a.replace(ca,function(a,b){return null==e[++b]?"":e[b]}));return a||""};b.fullfill=function(){var a=/\{([^\}]+)\}/g,b=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,c=function(a,c,e){var d=e;c.replace(b,function(a,b,c,e,f){b=b||e;d&&(b in d&&(d=d[b]),"function"==typeof d&&f&&(d=d()))});return d=(null==d||d==e?a:d)+""};return function(b,e){return String(b).replace(a,function(a,
b){return c(a,b,e)})}}();b.ninja=function(){cb?s.win.Raphael=zb:delete Raphael;return b};b.st=Z;(function(a,c,e){function d(){/in/.test(a.readyState)?setTimeout(d,9):b.eve("raphael.DOMload")}null==a.readyState&&a.addEventListener&&(a.addEventListener(c,e=function(){a.removeEventListener(c,e,!1);a.readyState="complete"},!1),a.readyState="loading");d()})(document,"DOMContentLoaded");d.on("raphael.DOMload",function(){F=!0});(function(){if(b.svg){var a=String,c=parseFloat,e=parseInt,d=Math,h=d.max,l=
d.abs,k=d.pow,q=/[, ]+/,p=b.eve,s={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},u={};b.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\u00ebl "+this.version};var m=function(c,d){if(d){"string"==typeof c&&(c=m(c));for(var e in d)d.hasOwnProperty(e)&&("xlink:"==e.substring(0,6)?c.setAttributeNS("http://www.w3.org/1999/xlink",e.substring(6),a(d[e])):
c.setAttribute(e,a(d[e])))}else c=b._g.doc.createElementNS("http://www.w3.org/2000/svg",c),c.style&&(c.style.webkitTapHighlightColor="rgba(0,0,0,0)");return c},z=function(e,g){var q="linear",I=e.id+g,V=.5,S=.5,y=e.node,B=e.paper,p=y.style,r=b._g.doc.getElementById(I);if(!r){g=a(g).replace(b._radial_gradient,function(a,b,e){q="radial";b&&e&&(V=c(b),S=c(e),a=2*(.5<S)-1,.25<k(V-.5,2)+k(S-.5,2)&&(S=d.sqrt(.25-k(V-.5,2))*a+.5)&&.5!=S&&(S=S.toFixed(5)-1E-5*a));return""});g=g.split(/\s*\-\s*/);if("linear"==
q){r=g.shift();r=-c(r);if(isNaN(r))return null;var E=[0,0,d.cos(b.rad(r)),d.sin(b.rad(r))],r=1/(h(l(E[2]),l(E[3]))||1);E[2]*=r;E[3]*=r;0>E[2]&&(E[0]=-E[2],E[2]=0);0>E[3]&&(E[1]=-E[3],E[3]=0)}var s=b._parseDots(g);if(!s)return null;I=I.replace(/[\(\)\s,\xb0#]/g,"_");e.gradient&&I!=e.gradient.id&&(B.defs.removeChild(e.gradient),delete e.gradient);if(!e.gradient)for(r=m(q+"Gradient",{id:I}),e.gradient=r,m(r,"radial"==q?{fx:V,fy:S}:{x1:E[0],y1:E[1],x2:E[2],y2:E[3],gradientTransform:e.matrix.invert()}),
B.defs.appendChild(r),B=0,E=s.length;B<E;B++)r.appendChild(m("stop",{offset:s[B].offset?s[B].offset:B?"100%":"0%","stop-color":s[B].color||"#fff"}))}m(y,{fill:"url(#"+I+")",opacity:1,"fill-opacity":1});p.fill="";p.opacity=1;return p.fillOpacity=1},r=function(a){var b=a.getBBox(1);m(a.pattern,{patternTransform:a.matrix.invert()+" translate("+b.x+","+b.y+")"})},A=function(c,e,d){if("path"==c.type){for(var f=a(e).toLowerCase().split("-"),g=c.paper,h=d?"end":"start",l=c.node,n=c.attrs,k=n["stroke-width"],
q=f.length,p="classic",r,t,v=3,w=3,x=5;q--;)switch(f[q]){case "block":case "classic":case "oval":case "diamond":case "open":case "none":p=f[q];break;case "wide":w=5;break;case "narrow":w=2;break;case "long":v=5;break;case "short":v=2}"open"==p?(v+=2,w+=2,x+=2,r=1,t=d?4:1,f={fill:"none",stroke:n.stroke}):(t=r=v/2,f={fill:n.stroke,stroke:"none"});c._.arrows?d?(c._.arrows.endPath&&u[c._.arrows.endPath]--,c._.arrows.endMarker&&u[c._.arrows.endMarker]--):(c._.arrows.startPath&&u[c._.arrows.startPath]--,
c._.arrows.startMarker&&u[c._.arrows.startMarker]--):c._.arrows={};if("none"!=p){var q="raphael-marker-"+p,z="raphael-marker-"+h+p+v+w;b._g.doc.getElementById(q)?u[q]++:(g.defs.appendChild(m(m("path"),{"stroke-linecap":"round",d:s[p],id:q})),u[q]=1);var A=b._g.doc.getElementById(z);A?(u[z]++,v=A.getElementsByTagName("use")[0]):(A=m(m("marker"),{id:z,markerHeight:w,markerWidth:v,orient:"auto",refX:t,refY:w/2}),v=m(m("use"),{"xlink:href":"#"+q,transform:(d?"rotate(180 "+v/2+" "+w/2+") ":"")+"scale("+
v/x+","+w/x+")","stroke-width":(1/((v/x+w/x)/2)).toFixed(4)}),A.appendChild(v),g.defs.appendChild(A),u[z]=1);m(v,f);g=r*("diamond"!=p&&"oval"!=p);d?(d=c._.arrows.startdx*k||0,k=b.getTotalLength(n.path)-g*k):(d=g*k,k=b.getTotalLength(n.path)-(c._.arrows.enddx*k||0));f={};f["marker-"+h]="url(#"+z+")";if(k||d)f.d=b.getSubpath(n.path,d,k);m(l,f);c._.arrows[h+"Path"]=q;c._.arrows[h+"Marker"]=z;c._.arrows[h+"dx"]=g;c._.arrows[h+"Type"]=p;c._.arrows[h+"String"]=e}else d?(d=c._.arrows.startdx*k||0,k=b.getTotalLength(n.path)-
d):(d=0,k=b.getTotalLength(n.path)-(c._.arrows.enddx*k||0)),c._.arrows[h+"Path"]&&m(l,{d:b.getSubpath(n.path,d,k)}),delete c._.arrows[h+"Path"],delete c._.arrows[h+"Marker"],delete c._.arrows[h+"dx"],delete c._.arrows[h+"Type"],delete c._.arrows[h+"String"];for(f in u)u.hasOwnProperty(f)&&!u[f]&&(c=b._g.doc.getElementById(f))&&c.parentNode.removeChild(c)}},v={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,
3,1,3,1,3]},D=function(b,c,e){if(c=v[a(c).toLowerCase()]){var d=b.attrs["stroke-width"]||"1";e={round:d,square:d,butt:0}[b.attrs["stroke-linecap"]||e["stroke-linecap"]]||0;for(var f=[],g=c.length;g--;)f[g]=c[g]*d+(g%2?1:-1)*e;m(b.node,{"stroke-dasharray":f.join(",")})}},x=function(c,d){var f=c.node,I=c.attrs,n=f.style.visibility;f.style.visibility="hidden";for(var k in d)if(d.hasOwnProperty(k)&&b._availableAttrs.hasOwnProperty(k)){var y=d[k];I[k]=y;switch(k){case "blur":c.blur(y);break;case "title":var B=
f.getElementsByTagName("title");B.length&&(B=B[0])?B.firstChild.nodeValue=y:(B=m("title"),y=b._g.doc.createTextNode(y),B.appendChild(y),f.appendChild(B));break;case "href":case "target":B=f.parentNode;if("a"!=B.tagName.toLowerCase()){var p=m("a");B.insertBefore(p,f);p.appendChild(f);B=p}"target"==k?B.setAttributeNS("http://www.w3.org/1999/xlink","show","blank"==y?"new":y):B.setAttributeNS("http://www.w3.org/1999/xlink",k,y);break;case "cursor":f.style.cursor=y;break;case "transform":c.transform(y);
break;case "arrow-start":A(c,y);break;case "arrow-end":A(c,y,1);break;case "clip-rect":B=a(y).split(q);if(4==B.length){c.clip&&c.clip.parentNode.parentNode.removeChild(c.clip.parentNode);var p=m("clipPath"),s=m("rect");p.id=b.createUUID();m(s,{x:B[0],y:B[1],width:B[2],height:B[3]});p.appendChild(s);c.paper.defs.appendChild(p);m(f,{"clip-path":"url(#"+p.id+")"});c.clip=s}!y&&(y=f.getAttribute("clip-path"))&&((y=b._g.doc.getElementById(y.replace(/(^url\(#|\)$)/g,"")))&&y.parentNode.removeChild(y),m(f,
{"clip-path":""}),delete c.clip);break;case "path":"path"==c.type&&(m(f,{d:y?I.path=b._pathToAbsolute(y):"M0,0"}),c._.dirty=1,c._.arrows&&("startString"in c._.arrows&&A(c,c._.arrows.startString),"endString"in c._.arrows&&A(c,c._.arrows.endString,1)));break;case "width":if(f.setAttribute(k,y),c._.dirty=1,I.fx)k="x",y=I.x;else break;case "x":I.fx&&(y=-I.x-(I.width||0));case "rx":if("rx"==k&&"rect"==c.type)break;case "cx":f.setAttribute(k,y);c.pattern&&r(c);c._.dirty=1;break;case "height":if(f.setAttribute(k,
y),c._.dirty=1,I.fy)k="y",y=I.y;else break;case "y":I.fy&&(y=-I.y-(I.height||0));case "ry":if("ry"==k&&"rect"==c.type)break;case "cy":f.setAttribute(k,y);c.pattern&&r(c);c._.dirty=1;break;case "r":"rect"==c.type?m(f,{rx:y,ry:y}):f.setAttribute(k,y);c._.dirty=1;break;case "src":"image"==c.type&&f.setAttributeNS("http://www.w3.org/1999/xlink","href",y);break;case "stroke-width":if(1!=c._.sx||1!=c._.sy)y/=h(l(c._.sx),l(c._.sy))||1;c.paper._vbSize&&(y*=c.paper._vbSize);f.setAttribute(k,y);I["stroke-dasharray"]&&
D(c,I["stroke-dasharray"],d);c._.arrows&&("startString"in c._.arrows&&A(c,c._.arrows.startString),"endString"in c._.arrows&&A(c,c._.arrows.endString,1));break;case "stroke-dasharray":D(c,y,d);break;case "fill":var v=a(y).match(b._ISURL);if(v){var p=m("pattern"),u=m("image");p.id=b.createUUID();m(p,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});m(u,{x:0,y:0,"xlink:href":v[1]});p.appendChild(u);(function(a){b._preload(v[1],function(){var b=this.offsetWidth,d=this.offsetHeight;m(a,{width:b,
height:d});m(u,{width:b,height:d});c.paper.safari()})})(p);c.paper.defs.appendChild(p);m(f,{fill:"url(#"+p.id+")"});c.pattern=p;c.pattern&&r(c);break}B=b.getRGB(y);if(!B.error)delete d.gradient,delete I.gradient,!b.is(I.opacity,"undefined")&&b.is(d.opacity,"undefined")&&m(f,{opacity:I.opacity}),!b.is(I["fill-opacity"],"undefined")&&b.is(d["fill-opacity"],"undefined")&&m(f,{"fill-opacity":I["fill-opacity"]});else if(("circle"==c.type||"ellipse"==c.type||"r"!=a(y).charAt())&&z(c,y)){if("opacity"in I||
"fill-opacity"in I)if(B=b._g.doc.getElementById(f.getAttribute("fill").replace(/^url\(#|\)$/g,"")))B=B.getElementsByTagName("stop"),m(B[B.length-1],{"stop-opacity":("opacity"in I?I.opacity:1)*("fill-opacity"in I?I["fill-opacity"]:1)});I.gradient=y;I.fill="none";break}B.hasOwnProperty("opacity")&&m(f,{"fill-opacity":1<B.opacity?B.opacity/100:B.opacity});case "stroke":B=b.getRGB(y);f.setAttribute(k,B.hex);"stroke"==k&&B.hasOwnProperty("opacity")&&m(f,{"stroke-opacity":1<B.opacity?B.opacity/100:B.opacity});
"stroke"==k&&c._.arrows&&("startString"in c._.arrows&&A(c,c._.arrows.startString),"endString"in c._.arrows&&A(c,c._.arrows.endString,1));break;case "gradient":"circle"!=c.type&&"ellipse"!=c.type&&"r"==a(y).charAt()||z(c,y);break;case "opacity":I.gradient&&!I.hasOwnProperty("stroke-opacity")&&m(f,{"stroke-opacity":1<y?y/100:y});case "fill-opacity":if(I.gradient){if(B=b._g.doc.getElementById(f.getAttribute("fill").replace(/^url\(#|\)$/g,"")))B=B.getElementsByTagName("stop"),m(B[B.length-1],{"stop-opacity":y});
break}default:"font-size"==k&&(y=e(y,10)+"px"),B=k.replace(/(\-.)/g,function(a){return a.substring(1).toUpperCase()}),f.style[B]=y,c._.dirty=1,f.setAttribute(k,y)}}w(c,d);f.style.visibility=n},w=function(c,d){if("text"==c.type&&(d.hasOwnProperty("text")||d.hasOwnProperty("font")||d.hasOwnProperty("font-size")||d.hasOwnProperty("x")||d.hasOwnProperty("y"))){var f=c.attrs,h=c.node,l=h.firstChild?e(b._g.doc.defaultView.getComputedStyle(h.firstChild,"").getPropertyValue("font-size"),10):10;if(d.hasOwnProperty("text")){for(f.text=
d.text;h.firstChild;)h.removeChild(h.firstChild);for(var k=a(d.text).split("\n"),n=[],q,p=0,r=k.length;p<r;p++)q=m("tspan"),p&&m(q,{dy:1.2*l,x:f.x}),q.appendChild(b._g.doc.createTextNode(k[p])),h.appendChild(q),n[p]=q}else for(n=h.getElementsByTagName("tspan"),p=0,r=n.length;p<r;p++)p?m(n[p],{dy:1.2*l,x:f.x}):m(n[0],{dy:0});m(h,{x:f.x,y:f.y});c._.dirty=1;h=c._getBBox();(f=f.y-(h.y+h.height/2))&&b.is(f,"finite")&&m(n[0],{dy:f})}},F=function(a,c){this[0]=this.node=a;a.raphael=!0;this.id=b._oid++;a.raphaelid=
this.id;this.matrix=b.matrix();this.realPath=null;this.paper=c;this.attrs=this.attrs||{};this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1};!c.bottom&&(c.bottom=this);(this.prev=c.top)&&(c.top.next=this);c.top=this;this.next=null},C=b.el;F.prototype=C;C.constructor=F;b._engine.path=function(a,b){var c=m("path");b.canvas&&b.canvas.appendChild(c);c=new F(c,b);c.type="path";x(c,{fill:"none",stroke:"#000",path:a});return c};C.rotate=function(b,d,f){if(this.removed)return this;b=a(b).split(q);b.length-
1&&(d=c(b[1]),f=c(b[2]));b=c(b[0]);null==f&&(d=f);if(null==d||null==f)f=this.getBBox(1),d=f.x+f.width/2,f=f.y+f.height/2;this.transform(this._.transform.concat([["r",b,d,f]]));return this};C.scale=function(b,d,f,e){if(this.removed)return this;b=a(b).split(q);b.length-1&&(d=c(b[1]),f=c(b[2]),e=c(b[3]));b=c(b[0]);null==d&&(d=b);null==e&&(f=e);if(null==f||null==e)var g=this.getBBox(1);f=null==f?g.x+g.width/2:f;e=null==e?g.y+g.height/2:e;this.transform(this._.transform.concat([["s",b,d,f,e]]));return this};
C.translate=function(b,d){if(this.removed)return this;b=a(b).split(q);b.length-1&&(d=c(b[1]));b=c(b[0])||0;this.transform(this._.transform.concat([["t",b,+d||0]]));return this};C.transform=function(a){var c=this._;if(null==a)return c.transform;b._extractTransform(this,a);this.clip&&m(this.clip,{transform:this.matrix.invert()});this.pattern&&r(this);this.node&&m(this.node,{transform:this.matrix});if(1!=c.sx||1!=c.sy)a=this.attrs.hasOwnProperty("stroke-width")?this.attrs["stroke-width"]:1,this.attr({"stroke-width":a});
return this};C.hide=function(){!this.removed&&this.paper.safari(this.node.style.display="none");return this};C.show=function(){!this.removed&&this.paper.safari(this.node.style.display="");return this};C.remove=function(){if(!this.removed&&this.node.parentNode){var a=this.paper;a.__set__&&a.__set__.exclude(this);p.unbind("raphael.*.*."+this.id);this.gradient&&a.defs.removeChild(this.gradient);b._tear(this,a);"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):
this.node.parentNode.removeChild(this.node);for(var c in this)this[c]="function"==typeof this[c]?b._removedFactory(c):null;this.removed=!0}};C._getBBox=function(){if("none"==this.node.style.display){this.show();var a=!0}var b={};try{b=this.node.getBBox()}catch(c){}finally{b=b||{}}a&&this.hide();return b};C.attr=function(a,c){if(this.removed)return this;if(null==a){var d={},f;for(f in this.attrs)this.attrs.hasOwnProperty(f)&&(d[f]=this.attrs[f]);d.gradient&&"none"==d.fill&&(d.fill=d.gradient)&&delete d.gradient;
d.transform=this._.transform;return d}if(null==c&&b.is(a,"string")){if("fill"==a&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==a)return this._.transform;f=a.split(q);for(var d={},e=0,g=f.length;e<g;e++)a=f[e],a in this.attrs?d[a]=this.attrs[a]:b.is(this.paper.customAttributes[a],"function")?d[a]=this.paper.customAttributes[a].def:d[a]=b._availableAttrs[a];return g-1?d:d[f[0]]}if(null==c&&b.is(a,"array")){d={};e=0;for(g=a.length;e<g;e++)d[a[e]]=this.attr(a[e]);
return d}null!=c?(d={},d[a]=c):null!=a&&b.is(a,"object")&&(d=a);for(e in d)p("raphael.attr."+e+"."+this.id,this,d[e]);for(e in this.paper.customAttributes)if(this.paper.customAttributes.hasOwnProperty(e)&&d.hasOwnProperty(e)&&b.is(this.paper.customAttributes[e],"function"))for(g in f=this.paper.customAttributes[e].apply(this,[].concat(d[e])),this.attrs[e]=d[e],f)f.hasOwnProperty(g)&&(d[g]=f[g]);x(this,d);return this};C.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?
this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var a=this.paper;a.top!=this&&b._tofront(this,a);return this};C.toBack=function(){if(this.removed)return this;var a=this.node.parentNode;"a"==a.tagName.toLowerCase()?a.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):a.firstChild!=this.node&&a.insertBefore(this.node,this.node.parentNode.firstChild);b._toback(this,this.paper);return this};C.insertAfter=
function(a){if(this.removed)return this;var c=a.node||a[a.length-1].node;c.nextSibling?c.parentNode.insertBefore(this.node,c.nextSibling):c.parentNode.appendChild(this.node);b._insertafter(this,a,this.paper);return this};C.insertBefore=function(a){if(this.removed)return this;var c=a.node||a[0].node;c.parentNode.insertBefore(this.node,c);b._insertbefore(this,a,this.paper);return this};C.blur=function(a){if(0!==+a){var c=m("filter"),d=m("feGaussianBlur");this.attrs.blur=a;c.id=b.createUUID();m(d,{stdDeviation:+a||
1.5});c.appendChild(d);this.paper.defs.appendChild(c);this._blur=c;m(this.node,{filter:"url(#"+c.id+")"})}else this._blur&&(this._blur.parentNode.removeChild(this._blur),delete this._blur,delete this.attrs.blur),this.node.removeAttribute("filter");return this};b._engine.circle=function(a,b,c,d){var f=m("circle");a.canvas&&a.canvas.appendChild(f);a=new F(f,a);a.attrs={cx:b,cy:c,r:d,fill:"none",stroke:"#000"};a.type="circle";m(f,a.attrs);return a};b._engine.rect=function(a,b,c,d,f,e){var g=m("rect");
a.canvas&&a.canvas.appendChild(g);a=new F(g,a);a.attrs={x:b,y:c,width:d,height:f,r:e||0,rx:e||0,ry:e||0,fill:"none",stroke:"#000"};a.type="rect";m(g,a.attrs);return a};b._engine.ellipse=function(a,b,c,d,f){var e=m("ellipse");a.canvas&&a.canvas.appendChild(e);a=new F(e,a);a.attrs={cx:b,cy:c,rx:d,ry:f,fill:"none",stroke:"#000"};a.type="ellipse";m(e,a.attrs);return a};b._engine.image=function(a,b,c,d,f,e){var g=m("image");m(g,{x:c,y:d,width:f,height:e,preserveAspectRatio:"none"});g.setAttributeNS("http://www.w3.org/1999/xlink",
"href",b);a.canvas&&a.canvas.appendChild(g);a=new F(g,a);a.attrs={x:c,y:d,width:f,height:e,src:b};a.type="image";return a};b._engine.text=function(a,c,d,f){var e=m("text");a.canvas&&a.canvas.appendChild(e);a=new F(e,a);a.attrs={x:c,y:d,"text-anchor":"middle",text:f,font:b._availableAttrs.font,stroke:"none",fill:"#000"};a.type="text";x(a,a.attrs);return a};b._engine.setSize=function(a,b){this.width=a||this.width;this.height=b||this.height;this.canvas.setAttribute("width",this.width);this.canvas.setAttribute("height",
this.height);this._viewBox&&this.setViewBox.apply(this,this._viewBox);return this};b._engine.create=function(){var a=b._getContainer.apply(0,arguments),c=a&&a.container,d=a.x,f=a.y,e=a.width,a=a.height;if(!c)throw Error("SVG container not found.");var g=m("svg"),h,d=d||0,f=f||0,e=e||512,a=a||342;m(g,{height:a,version:1.1,width:e,xmlns:"http://www.w3.org/2000/svg"});1==c?(g.style.cssText="overflow:hidden;position:absolute;left:"+d+"px;top:"+f+"px",b._g.doc.body.appendChild(g),h=1):(g.style.cssText=
"overflow:hidden;position:relative",c.firstChild?c.insertBefore(g,c.firstChild):c.appendChild(g));c=new b._Paper;c.width=e;c.height=a;c.canvas=g;c.clear();c._left=c._top=0;h&&(c.renderfix=function(){});c.renderfix();return c};b._engine.setViewBox=function(a,b,c,d,f){p("raphael.setViewBox",this,this._viewBox,[a,b,c,d,f]);var e=h(c/this.width,d/this.height),g=this.top,l=f?"xMidYMid meet":"xMinYMin",k;null==a?(this._vbSize&&(e=1),delete this._vbSize,k="0 0 "+this.width+" "+this.height):(this._vbSize=
e,k=a+" "+b+" "+c+" "+d);for(m(this.canvas,{viewBox:k,preserveAspectRatio:l});e&&g;)l="stroke-width"in g.attrs?g.attrs["stroke-width"]:1,g.attr({"stroke-width":l}),g._.dirty=1,g._.dirtyT=1,g=g.prev;this._viewBox=[a,b,c,d,!!f];return this};b.prototype.renderfix=function(){var a=this.canvas,b=a.style,c;try{c=a.getScreenCTM()||a.createSVGMatrix()}catch(d){c=a.createSVGMatrix()}a=-c.e%1;c=-c.f%1;if(a||c)a&&(this._left=(this._left+a)%1,b.left=this._left+"px"),c&&(this._top=(this._top+c)%1,b.top=this._top+
"px")};b.prototype.clear=function(){b.eve("raphael.clear",this);for(var a=this.canvas;a.firstChild;)a.removeChild(a.firstChild);this.bottom=this.top=null;(this.desc=m("desc")).appendChild(b._g.doc.createTextNode("Created with Rapha\u00ebl "+b.version));a.appendChild(this.desc);a.appendChild(this.defs=m("defs"))};b.prototype.remove=function(){p("raphael.remove",this);this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]="function"==typeof this[a]?b._removedFactory(a):
null};var H=b.st,K;for(K in C)C.hasOwnProperty(K)&&!H.hasOwnProperty(K)&&(H[K]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a].apply(c,b)})}}(K))}})();(function(){if(b.vml){var a=String,c=parseFloat,d=Math,f=d.round,e=d.max,h=d.min,k=d.abs,q=/[, ]+/,p=b.eve,s={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},u=/([clmz]),?([^clmz]*)/gi,m=/ progid:\S+Blur\([^\)]+\)/g,z=/-?[^,\s-]+/g,r={path:1,rect:1,image:1},A={circle:1,ellipse:1},v=function(c){var d=/[ahqstv]/ig,
e=b._pathToAbsolute;a(c).match(d)&&(e=b._path2curve);d=/[clmz]/g;if(e==b._pathToAbsolute&&!a(c).match(d))return c=a(c).replace(u,function(a,b,c){var d=[],e="m"==b.toLowerCase(),g=s[b];c.replace(z,function(a){e&&2==d.length&&(g+=d+s["m"==b?"l":"L"],d=[]);d.push(f(21600*a))});return g+d});var d=e(c),g;c=[];for(var h=0,l=d.length;h<l;h++){e=d[h];g=d[h][0].toLowerCase();"z"==g&&(g="x");for(var k=1,n=e.length;k<n;k++)g+=f(21600*e[k])+(k!=n-1?",":"");c.push(g)}return c.join(" ")},C=function(a,c,d){var e=
b.matrix();e.rotate(-a,.5,.5);return{dx:e.x(c,d),dy:e.y(c,d)}},x=function(a,b,c,d,e,f){var g=a._,h=a.matrix,l=g.fillpos;a=a.node;var n=a.style,q=1,m="",p=21600/b,r=21600/c;n.visibility="hidden";if(b&&c){a.coordsize=k(p)+" "+k(r);n.rotation=f*(0>b*c?-1:1);f&&(e=C(f,d,e),d=e.dx,e=e.dy);0>b&&(m+="x");0>c&&(m+=" y")&&(q=-1);n.flip=m;a.coordorigin=d*-p+" "+e*-r;if(l||g.fillsize)d=(d=a.getElementsByTagName("fill"))&&d[0],a.removeChild(d),l&&(e=C(f,h.x(l[0],l[1]),h.y(l[0],l[1])),d.position=e.dx*q+" "+e.dy*
q),g.fillsize&&(d.size=g.fillsize[0]*k(b)+" "+g.fillsize[1]*k(c)),a.appendChild(d);n.visibility="visible"}};b.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\u00ebl "+this.version};var w=function(b,c,d){c=a(c).toLowerCase().split("-");d=d?"end":"start";for(var e=c.length,f="classic",g="medium",h="medium";e--;)switch(c[e]){case "block":case "classic":case "oval":case "diamond":case "open":case "none":f=c[e];break;case "wide":case "narrow":h=
c[e];break;case "long":case "short":g=c[e]}b=b.node.getElementsByTagName("stroke")[0];b[d+"arrow"]=f;b[d+"arrowlength"]=g;b[d+"arrowwidth"]=h},D=function(d,g){d.attrs=d.attrs||{};var k=d.node,m=d.attrs,p=k.style,s=r[d.type]&&(g.x!=m.x||g.y!=m.y||g.width!=m.width||g.height!=m.height||g.cx!=m.cx||g.cy!=m.cy||g.rx!=m.rx||g.ry!=m.ry||g.r!=m.r),u=A[d.type]&&(m.cx!=g.cx||m.cy!=g.cy||m.r!=g.r||m.rx!=g.rx||m.ry!=g.ry),E;for(E in g)g.hasOwnProperty(E)&&(m[E]=g[E]);s&&(m.path=b._getPath[d.type](d),d._.dirty=
1);g.href&&(k.href=g.href);g.title&&(k.title=g.title);g.target&&(k.target=g.target);g.cursor&&(p.cursor=g.cursor);"blur"in g&&d.blur(g.blur);if(g.path&&"path"==d.type||s)k.path=v(~a(m.path).toLowerCase().indexOf("r")?b._pathToAbsolute(m.path):m.path),"image"==d.type&&(d._.fillpos=[m.x,m.y],d._.fillsize=[m.width,m.height],x(d,1,1,0,0,0));"transform"in g&&d.transform(g.transform);u&&(p=+m.cx,s=+m.cy,u=+m.rx||+m.r||0,E=+m.ry||+m.r||0,k.path=b.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",f(21600*(p-u)),
f(21600*(s-E)),f(21600*(p+u)),f(21600*(s+E)),f(21600*p)),d._.dirty=1);"clip-rect"in g&&(p=a(g["clip-rect"]).split(q),4==p.length&&(p[2]=+p[2]+ +p[0],p[3]=+p[3]+ +p[1],s=k.clipRect||b._g.doc.createElement("div"),u=s.style,u.clip=b.format("rect({1}px {2}px {3}px {0}px)",p),k.clipRect||(u.position="absolute",u.top=0,u.left=0,u.width=d.paper.width+"px",u.height=d.paper.height+"px",k.parentNode.insertBefore(s,k),s.appendChild(k),k.clipRect=s)),g["clip-rect"]||k.clipRect&&(k.clipRect.style.clip="auto"));
d.textpath&&(p=d.textpath.style,g.font&&(p.font=g.font),g["font-family"]&&(p.fontFamily='"'+g["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"'),g["font-size"]&&(p.fontSize=g["font-size"]),g["font-weight"]&&(p.fontWeight=g["font-weight"]),g["font-style"]&&(p.fontStyle=g["font-style"]));"arrow-start"in g&&w(d,g["arrow-start"]);"arrow-end"in g&&w(d,g["arrow-end"],1);if(null!=g.opacity||null!=g["stroke-width"]||null!=g.fill||null!=g.src||null!=g.stroke||null!=g["stroke-width"]||null!=g["stroke-opacity"]||
null!=g["fill-opacity"]||null!=g["stroke-dasharray"]||null!=g["stroke-miterlimit"]||null!=g["stroke-linejoin"]||null!=g["stroke-linecap"]){p=(p=k.getElementsByTagName("fill"))&&p[0];!p&&(p=J("fill"));"image"==d.type&&g.src&&(p.src=g.src);g.fill&&(p.on=!0);if(null==p.on||"none"==g.fill||null===g.fill)p.on=!1;p.on&&g.fill&&((s=a(g.fill).match(b._ISURL))?(p.parentNode==k&&k.removeChild(p),p.rotate=!0,p.src=s[1],p.type="tile",u=d.getBBox(1),p.position=u.x+" "+u.y,d._.fillpos=[u.x,u.y],b._preload(s[1],
function(){d._.fillsize=[this.offsetWidth,this.offsetHeight]})):(p.color=b.getRGB(g.fill).hex,p.src="",p.type="solid",b.getRGB(g.fill).error&&(d.type in{circle:1,ellipse:1}||"r"!=a(g.fill).charAt())&&F(d,g.fill,p)&&(m.fill="none",m.gradient=g.fill,p.rotate=!1)));if("fill-opacity"in g||"opacity"in g)u=((+m["fill-opacity"]+1||2)-1)*((+m.opacity+1||2)-1)*((+b.getRGB(g.fill).o+1||2)-1),u=h(e(u,0),1),p.opacity=u,p.src&&(p.color="none");k.appendChild(p);p=k.getElementsByTagName("stroke")&&k.getElementsByTagName("stroke")[0];
s=!1;!p&&(s=p=J("stroke"));if(g.stroke&&"none"!=g.stroke||g["stroke-width"]||null!=g["stroke-opacity"]||g["stroke-dasharray"]||g["stroke-miterlimit"]||g["stroke-linejoin"]||g["stroke-linecap"])p.on=!0;"none"!=g.stroke&&null!==g.stroke&&null!=p.on&&0!=g.stroke&&0!=g["stroke-width"]||(p.on=!1);u=b.getRGB(g.stroke);p.on&&g.stroke&&(p.color=u.hex);u=((+m["stroke-opacity"]+1||2)-1)*((+m.opacity+1||2)-1)*((+u.o+1||2)-1);E=.75*(c(g["stroke-width"])||1);u=h(e(u,0),1);null==g["stroke-width"]&&(E=m["stroke-width"]);
g["stroke-width"]&&(p.weight=E);E&&1>E&&(u*=E)&&(p.weight=1);p.opacity=u;g["stroke-linejoin"]&&(p.joinstyle=g["stroke-linejoin"]||"miter");p.miterlimit=g["stroke-miterlimit"]||8;g["stroke-linecap"]&&(p.endcap="butt"==g["stroke-linecap"]?"flat":"square"==g["stroke-linecap"]?"square":"round");"stroke-dasharray"in g&&(u={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"},p.dashstyle=
u.hasOwnProperty(g["stroke-dasharray"])?u[g["stroke-dasharray"]]:"");s&&k.appendChild(p)}if("text"==d.type){d.paper.canvas.style.display="";k=d.paper.span;s=m.font&&m.font.match(/\d+(?:\.\d*)?(?=px)/);p=k.style;m.font&&(p.font=m.font);m["font-family"]&&(p.fontFamily=m["font-family"]);m["font-weight"]&&(p.fontWeight=m["font-weight"]);m["font-style"]&&(p.fontStyle=m["font-style"]);s=c(m["font-size"]||s&&s[0])||10;p.fontSize=100*s+"px";d.textpath.string&&(k.innerHTML=a(d.textpath.string).replace(/</g,
"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));k=k.getBoundingClientRect();d.W=m.w=(k.right-k.left)/100;d.H=m.h=(k.bottom-k.top)/100;d.X=m.x;d.Y=m.y+d.H/2;("x"in g||"y"in g)&&(d.path.v=b.format("m{0},{1}l{2},{1}",f(21600*m.x),f(21600*m.y),f(21600*m.x)+1));k="x y text font font-family font-weight font-style font-size".split(" ");p=0;for(s=k.length;p<s;p++)if(k[p]in g){d._.dirty=1;break}switch(m["text-anchor"]){case "start":d.textpath.style["v-text-align"]="left";d.bbx=d.W/2;break;case "end":d.textpath.style["v-text-align"]=
"right";d.bbx=-d.W/2;break;default:d.textpath.style["v-text-align"]="center",d.bbx=0}d.textpath.style["v-text-kern"]=!0}},F=function(e,f,h){e.attrs=e.attrs||{};var k=Math.pow,l="linear",m=".5 .5";e.attrs.gradient=f;f=a(f).replace(b._radial_gradient,function(a,b,e){l="radial";b&&e&&(b=c(b),e=c(e),.25<k(b-.5,2)+k(e-.5,2)&&(e=d.sqrt(.25-k(b-.5,2))*(2*(.5<e)-1)+.5),m=b+" "+e);return""});f=f.split(/\s*\-\s*/);if("linear"==l){var p=f.shift(),p=-c(p);if(isNaN(p))return null}f=b._parseDots(f);if(!f)return null;
e=e.shape||e.node;if(f.length){e.removeChild(h);h.on=!0;h.method="none";h.color=f[0].color;h.color2=f[f.length-1].color;for(var q=[],r=0,s=f.length;r<s;r++)f[r].offset&&q.push(f[r].offset+" "+f[r].color);h.colors=q.length?q.join():"0% "+h.color;"radial"==l?(h.type="gradientTitle",h.focus="100%",h.focussize="0 0",h.focusposition=m,h.angle=0):(h.type="gradient",h.angle=(270-p)%360);e.appendChild(h)}return 1},H=function(a,c){this[0]=this.node=a;a.raphael=!0;this.id=b._oid++;a.raphaelid=this.id;this.Y=
this.X=0;this.attrs={};this.paper=c;this.matrix=b.matrix();this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1};!c.bottom&&(c.bottom=this);(this.prev=c.top)&&(c.top.next=this);c.top=this;this.next=null},K=b.el;H.prototype=K;K.constructor=H;K.transform=function(c){if(null==c)return this._.transform;var d=this.paper._viewBoxShift,e=d?"s"+[d.scale,d.scale]+"-1-1t"+[d.dx,d.dy]:"",g;d&&(g=c=a(c).replace(/\.{3}|\u2026/g,this._.transform||""));b._extractTransform(this,e+c);var d=this.matrix.clone(),
f=this.skew;c=this.node;var e=~a(this.attrs.fill).indexOf("-"),h=!a(this.attrs.fill).indexOf("url(");d.translate(1,1);h||e||"image"==this.type?(f.matrix="1 0 0 1",f.offset="0 0",f=d.split(),e&&f.noRotation||!f.isSimple?(c.style.filter=d.toFilter(),e=this.getBBox(),f=this.getBBox(1),d=e.x-f.x,e=e.y-f.y,c.coordorigin=-21600*d+" "+-21600*e,x(this,1,1,d,e,0)):(c.style.filter="",x(this,f.scalex,f.scaley,f.dx,f.dy,f.rotate))):(c.style.filter="",f.matrix=a(d),f.offset=d.offset());g&&(this._.transform=g);
return this};K.rotate=function(b,d,e){if(this.removed)return this;if(null!=b){b=a(b).split(q);b.length-1&&(d=c(b[1]),e=c(b[2]));b=c(b[0]);null==e&&(d=e);if(null==d||null==e)e=this.getBBox(1),d=e.x+e.width/2,e=e.y+e.height/2;this._.dirtyT=1;this.transform(this._.transform.concat([["r",b,d,e]]));return this}};K.translate=function(b,d){if(this.removed)return this;b=a(b).split(q);b.length-1&&(d=c(b[1]));b=c(b[0])||0;d=+d||0;this._.bbox&&(this._.bbox.x+=b,this._.bbox.y+=d);this.transform(this._.transform.concat([["t",
b,d]]));return this};K.scale=function(b,d,e,f){if(this.removed)return this;b=a(b).split(q);b.length-1&&(d=c(b[1]),e=c(b[2]),f=c(b[3]),isNaN(e)&&(e=null),isNaN(f)&&(f=null));b=c(b[0]);null==d&&(d=b);null==f&&(e=f);if(null==e||null==f)var g=this.getBBox(1);e=null==e?g.x+g.width/2:e;f=null==f?g.y+g.height/2:f;this.transform(this._.transform.concat([["s",b,d,e,f]]));this._.dirtyT=1;return this};K.hide=function(){!this.removed&&(this.node.style.display="none");return this};K.show=function(){!this.removed&&
(this.node.style.display="");return this};K._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}};K.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this);b.eve.unbind("raphael.*.*."+this.id);b._tear(this,this.paper);this.node.parentNode.removeChild(this.node);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var a in this)this[a]="function"==typeof this[a]?b._removedFactory(a):
null;this.removed=!0}};K.attr=function(a,c){if(this.removed)return this;if(null==a){var d={},e;for(e in this.attrs)this.attrs.hasOwnProperty(e)&&(d[e]=this.attrs[e]);d.gradient&&"none"==d.fill&&(d.fill=d.gradient)&&delete d.gradient;d.transform=this._.transform;return d}if(null==c&&b.is(a,"string")){if("fill"==a&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;e=a.split(q);for(var d={},f=0,g=e.length;f<g;f++)a=e[f],a in this.attrs?d[a]=this.attrs[a]:b.is(this.paper.customAttributes[a],
"function")?d[a]=this.paper.customAttributes[a].def:d[a]=b._availableAttrs[a];return g-1?d:d[e[0]]}if(this.attrs&&null==c&&b.is(a,"array")){d={};f=0;for(g=a.length;f<g;f++)d[a[f]]=this.attr(a[f]);return d}null!=c&&(d={},d[a]=c);null==c&&b.is(a,"object")&&(d=a);for(f in d)p("raphael.attr."+f+"."+this.id,this,d[f]);if(d){for(f in this.paper.customAttributes)if(this.paper.customAttributes.hasOwnProperty(f)&&d.hasOwnProperty(f)&&b.is(this.paper.customAttributes[f],"function"))for(g in e=this.paper.customAttributes[f].apply(this,
[].concat(d[f])),this.attrs[f]=d[f],e)e.hasOwnProperty(g)&&(d[g]=e[g]);d.text&&"text"==this.type&&(this.textpath.string=d.text);D(this,d)}return this};K.toFront=function(){!this.removed&&this.node.parentNode.appendChild(this.node);this.paper&&this.paper.top!=this&&b._tofront(this,this.paper);return this};K.toBack=function(){if(this.removed)return this;this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),b._toback(this,this.paper));
return this};K.insertAfter=function(a){if(this.removed)return this;a.constructor==b.st.constructor&&(a=a[a.length-1]);a.node.nextSibling?a.node.parentNode.insertBefore(this.node,a.node.nextSibling):a.node.parentNode.appendChild(this.node);b._insertafter(this,a,this.paper);return this};K.insertBefore=function(a){if(this.removed)return this;a.constructor==b.st.constructor&&(a=a[0]);a.node.parentNode.insertBefore(this.node,a.node);b._insertbefore(this,a,this.paper);return this};K.blur=function(a){var c=
this.node.runtimeStyle,d=c.filter,d=d.replace(m,"");0!==+a?(this.attrs.blur=a,c.filter=d+"  progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+a||1.5)+")",c.margin=b.format("-{0}px 0 0 -{0}px",f(+a||1.5))):(c.filter=d,c.margin=0,delete this.attrs.blur);return this};b._engine.path=function(a,b){var c=J("shape");c.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px";c.coordsize="21600 21600";c.coordorigin=b.coordorigin;var d=new H(c,b),e={fill:"none",stroke:"#000"};a&&(e.path=a);
d.type="path";d.path=[];d.Path="";D(d,e);b.canvas.appendChild(c);e=J("skew");e.on=!0;c.appendChild(e);d.skew=e;d.transform("");return d};b._engine.rect=function(a,c,d,e,f,g){var h=b._rectPath(c,d,e,f,g);a=a.path(h);var k=a.attrs;a.X=k.x=c;a.Y=k.y=d;a.W=k.width=e;a.H=k.height=f;k.r=g;k.path=h;a.type="rect";return a};b._engine.ellipse=function(a,b,c,d,e){a=a.path();a.X=b-d;a.Y=c-e;a.W=2*d;a.H=2*e;a.type="ellipse";D(a,{cx:b,cy:c,rx:d,ry:e});return a};b._engine.circle=function(a,b,c,d){a=a.path();a.X=
b-d;a.Y=c-d;a.W=a.H=2*d;a.type="circle";D(a,{cx:b,cy:c,r:d});return a};b._engine.image=function(a,c,d,e,f,g){var h=b._rectPath(d,e,f,g);a=a.path(h).attr({stroke:"none"});var k=a.attrs,l=a.node,m=l.getElementsByTagName("fill")[0];k.src=c;a.X=k.x=d;a.Y=k.y=e;a.W=k.width=f;a.H=k.height=g;k.path=h;a.type="image";m.parentNode==l&&l.removeChild(m);m.rotate=!0;m.src=c;m.type="tile";a._.fillpos=[d,e];a._.fillsize=[f,g];l.appendChild(m);x(a,1,1,0,0,0);return a};b._engine.text=function(c,d,e,g){var h=J("shape"),
k=J("path"),l=J("textpath");d=d||0;e=e||0;g=g||"";k.v=b.format("m{0},{1}l{2},{1}",f(21600*d),f(21600*e),f(21600*d)+1);k.textpathok=!0;l.string=a(g);l.on=!0;h.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px";h.coordsize="21600 21600";h.coordorigin="0 0";var m=new H(h,c),n={fill:"#000",stroke:"none",font:b._availableAttrs.font,text:g};m.shape=h;m.path=k;m.textpath=l;m.type="text";m.attrs.text=a(g);m.attrs.x=d;m.attrs.y=e;m.attrs.w=1;m.attrs.h=1;D(m,n);h.appendChild(l);h.appendChild(k);
c.canvas.appendChild(h);c=J("skew");c.on=!0;h.appendChild(c);m.skew=c;m.transform("");return m};b._engine.setSize=function(a,c){var d=this.canvas.style;this.width=a;this.height=c;a==+a&&(a+="px");c==+c&&(c+="px");d.width=a;d.height=c;d.clip="rect(0 "+a+" "+c+" 0)";this._viewBox&&b._engine.setViewBox.apply(this,this._viewBox);return this};b._engine.setViewBox=function(a,c,d,f,g){b.eve("raphael.setViewBox",this,this._viewBox,[a,c,d,f,g]);var h=this.width,k=this.height,l=1/e(d/h,f/k),m,n;g&&(m=k/f,n=
h/d,d*m<h&&(a-=(h-d*m)/2/m),f*n<k&&(c-=(k-f*n)/2/n));this._viewBox=[a,c,d,f,!!g];this._viewBoxShift={dx:-a,dy:-c,scale:l};this.forEach(function(a){a.transform("...")});return this};var J;b._engine.initWin=function(a){var b=a.document;b.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!b.namespaces.rvml&&b.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),J=function(a){return b.createElement("<rvml:"+a+' class="rvml">')}}catch(c){J=function(a){return b.createElement("<"+a+
' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}};b._engine.initWin(b._g.win);b._engine.create=function(){var a=b._getContainer.apply(0,arguments),c=a.container,d=a.height,e=a.width,f=a.x,a=a.y;if(!c)throw Error("VML container not found.");var g=new b._Paper,h=g.canvas=b._g.doc.createElement("div"),k=h.style,f=f||0,a=a||0,e=e||512,d=d||342;g.width=e;g.height=d;e==+e&&(e+="px");d==+d&&(d+="px");g.coordsize="21600000 21600000";g.coordorigin="0 0";g.span=b._g.doc.createElement("span");g.span.style.cssText=
"position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;";h.appendChild(g.span);k.cssText=b.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",e,d);1==c?(b._g.doc.body.appendChild(h),k.left=f+"px",k.top=a+"px",k.position="absolute"):c.firstChild?c.insertBefore(h,c.firstChild):c.appendChild(h);g.renderfix=function(){};return g};b.prototype.clear=function(){b.eve("raphael.clear",this);this.canvas.innerHTML="";
this.span=b._g.doc.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas.appendChild(this.span);this.bottom=this.top=null};b.prototype.remove=function(){b.eve("raphael.remove",this);this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]="function"==typeof this[a]?b._removedFactory(a):null;return!0};var M=b.st,N;for(N in K)K.hasOwnProperty(N)&&!M.hasOwnProperty(N)&&(M[N]=function(a){return function(){var b=
arguments;return this.forEach(function(c){c[a].apply(c,b)})}}(N))}})();cb?s.win.Raphael=b:Raphael=b;return b});function Point(c,d){this.x=c;this.y=d};function Line(c,d){this.points=[];this.points.push(c);this.points.push(d)};function Hexagon(c,d,b,h,e,k){this.used=!1;this.lines=[];this.outline=[];this.neighbors=[];this.lines.push(c);this.lines.push(d);this.lines.push(b);this.lines.push(h);this.lines.push(e);this.lines.push(k)};function distance(c,d){return Math.sqrt((c.x-d.x)*(c.x-d.x)+(c.y-d.y)*(c.y-d.y))}Array.prototype.extend=function(c){var d=0;for(d;d<c.length;d+=1)this.push(c[d]);return this};Array.prototype.indexOf||("use strict",Array.prototype.indexOf=function(c,d){var b=this.length,h;for(h=0>d?Math.max(0,b+d):d||0;h<b;h+=1)if(this[h]===c)return h;return-1});Array.prototype.contains=function(c,d){return-1!==this.indexOf(c,d)};Array.prototype.include=function(c){this.contains(c)||this.push(c);return this};
Array.prototype.erase=function(c){var d;for(d=this.length;d--;d)this[d]===c&&this.splice(d,1);return this};Array.prototype.getLast=function(){return this.length?this[this.length-1]:null};function Country(){this.hexagons=[];this.neighbors=[];this.outline=[];this.inlines=[]}
Country.prototype.getRandomNeighborHexagon=function(c){if(c)for(;;){if(c=this.hexagons[rand(0,this.hexagons.length-1)],c=c.neighbors[rand(0,c.neighbors.length-1)],!c.used)return c}else{c=[];for(var d=0;d<this.hexagons.length;d++)for(var b=0;b<this.hexagons[d].neighbors.length;b++)this.hexagons[d].neighbors[b].used||c.include(this.hexagons[d].neighbors[b]);return c[rand(0,c.length-1)]}};
Country.prototype.getPointField=function(c,d){var b=[],h=!0;b.push(c[0]);for(c.erase(c[0]);h;)for(var h=!1,e=0;e<b.length;e++){for(var k=0;k<c.length;k++)if(distance(b[e],c[k])<d){b.push(c[k]);c.erase(c[k]);h=!0;break}if(h)break}return b};Country.prototype.getHexagonField=function(c){var d=[],b=!0;d.push(c[0]);for(c.erase(c[0]);b;)for(var b=!1,h=0,e=d.length;h<e;h++){for(var k=0,q=c.length;k<q;k++)if(c[k].neighbors.contains(d[h])){d.push(c[k]);c.erase(c[k]);b=!0;break}if(b)break}return d};
Country.prototype.getCenter=function(){for(var c=[],d=[],b=0,h=this.inlines.length;b<h;b++)for(var e=0;2>e;e++){var k=this.inlines[b].points[e];d.contains(k)?c.contains(k)||c.push(k):d.push(k)}k=d=0;b=this.hexagons[0].lines[0];lineLength=1.1*distance(b.points[0],b.points[1]);if(1>c.length){b=0;for(h=this.hexagons.length;b<h;b++)for(e=c=0;6>e;e++)if(this.hexagons.contains(this.hexagons[b].neighbors[e])&&(c++,3==c)){for(e=0;6>e;e++)d+=this.hexagons[b].lines[e].points[0].x+this.hexagons[b].lines[e].points[1].x,
k+=this.hexagons[b].lines[e].points[0].y+this.hexagons[b].lines[e].points[1].y;this.center=new Point(d/12,k/12);return}for(b=0;6>b;b++)d+=this.hexagons[0].lines[b].points[0].x+this.hexagons[0].lines[b].points[1].x,k+=this.hexagons[0].lines[b].points[0].y+this.hexagons[0].lines[b].points[1].y;this.center=new Point(d/12,k/12)}else{for(h=[];0<c.length;)h.push(this.getPointField(c,lineLength));c=h[0];for(b=1;b<h.length;b++)h[b].length>c.length&&(c=h[b]);for(var q=[],b=0,h=this.hexagons.length;b<h;b++){for(var p=
!0,e=0;6>e;e++)if(!c.contains(this.hexagons[b].lines[e].points[0])||!c.contains(this.hexagons[b].lines[e].points[1])){p=!1;break}p&&q.push(this.hexagons[b])}if(1>q.length){b=0;for(h=c.length;b<h;b++)d+=c[b].x,k+=c[b].y;d=new Point(d/c.length,k/c.length);k=Infinity;if(7>c.length)this.center=d;else{b=0;for(h=c.length;b<h&&!(q=distance(d,c[b]),q<k&&(e=b,k=q,k<lineLength/2));b++);this.center=c[e]}}else{for(h=[];0<q.length;)h.push(this.getHexagonField(q));c=h[0];for(b=1;b<h.length;b++)h[b].length>c.length&&
(c=h[b]);q=[];b=0;for(h=c.length;b<h;b++){for(var z=p=0,e=0;6>e;e++)p+=c[b].lines[e].points[0].x+c[b].lines[e].points[1].x,z+=c[b].lines[e].points[0].y+c[b].lines[e].points[1].y;d+=p/=12;k+=z/=12;q.push(new Point(p,z))}d=new Point(d/c.length,k/c.length);k=Infinity;if(7>c.length)this.center=d;else{b=0;for(h=c.length;b<h&&!(c=distance(d,q[b]),c<k&&(e=b,k=c,k<2*lineLength/3));b++);this.center=new Point(q[e].x,q[e].y)}}}};
Country.prototype.generateOutline=function(){for(var c=[],d=0,b=this.hexagons.length;d<b;d++)for(var h=0;6>h;h++){var e=this.hexagons[d].lines[h];c.contains(e)?(c=c.erase(e),this.inlines.push(e)):c.push(e)}e=c.getLast();for(d=0;d<c.length;d++)c[d].points[0].x<e.points[0].x&&(e=c[d]);this.outline.push(e.points[0]);this.outline.push(e.points[1]);c=c.erase(e);b=e.points[0];e=e.points[1];this.boundingBox={};this.boundingBox.min=new Point(Math.min(b.x,e.x),Math.min(b.y,e.y));for(this.boundingBox.max=new Point(Math.max(b.x,
e.x),Math.max(b.y,e.y));b!=e;)for(d=0;d<c.length;d++)h=!1,c[d].points[0]==e?(e=c[d].points[1],this.outline.push(c[d].points[1]),c=c.erase(c[d]),h=!0):c[d].points[1]==e&&(e=c[d].points[0],this.outline.push(c[d].points[0]),c=c.erase(c[d]),h=!0),h&&(this.boundingBox.min.x=Math.min(this.boundingBox.min.x,e.x),this.boundingBox.min.y=Math.min(this.boundingBox.min.y,e.y),this.boundingBox.max.x=Math.max(this.boundingBox.max.x,e.x),this.boundingBox.max.y=Math.max(this.boundingBox.max.y,e.y));0<c.length&&(this.holeLines=
c)};function rand(c,d){return Math.floor(Math.random()*(d-c+1))+c}Array.prototype.indexOf||(Array.prototype.indexOf=function(c,d){for(var b=this.length,h=0>d?Math.max(0,b+d):d||0;h<b;h++)if(this[h]===c)return h;return-1});Array.prototype.contains=function(c,d){return-1!=this.indexOf(c,d)};Array.prototype.include=function(c){this.contains(c)||this.push(c);return this};Array.prototype.combine=function(c){for(var d=0,b=c.length;d<b;d++)this.include(c[d]);return this};
Array.prototype.forEach||(Array.prototype.forEach=function(c,d){var b=this.length>>>0;if("function"!=typeof c)throw new TypeError;for(var h=0;h<b;h++)h in this&&c.call(d,this[h],h,this)});function Map(c,d,b){this.points=[];this.lines=[];this.hexagons=[];this.usedHexagons=[];this.countries=[];this.width=c;this.height=d;this.hexagonSize=b}
Map.prototype.clear=function(){if(0<this.countries.length){this.usedHexagons=[];this.countries=[];for(var c=0,d=this.hexagons.length;c<d;c++)this.hexagons[c].used=!1}};
Map.prototype.generateHexagonArray=function(c){for(var d=Math.sqrt(3)*this.hexagonSize/2,b=parseInt(this.width/d-.5),h=parseInt(4*this.height/(3*this.hexagonSize)-1/3),e=0;e<h+1;e++)for(var k=0;k<b+1;k++){var q,p,z,Y;q=k*d;p=e*this.hexagonSize*.75;0==e%2&&(p+=.25*this.hexagonSize);c&&(z=Math.random()*Math.PI*2,Y=Math.random()*this.hexagonSize/4*1,q+=Y*Math.cos(z),p+=Y*Math.sin(z));this.points.push(new Point(q,p));q=(k+.5)*d;p=e*this.hexagonSize*.75;1==e%2&&(p+=.25*this.hexagonSize);c&&(z=2*Math.random()*
Math.PI,Y=Math.random()*this.hexagonSize/4*1,q+=Y*Math.cos(z),p+=Y*Math.sin(z));this.points.push(new Point(q,p))}for(e=0;e<h+1;e++){c=2*b+2;for(k=0;k<2*b+1;k++)q=this.points[e*c+k],p=this.points[e*c+k+1],this.lines.push(new Line(q,p));if(e<h)for(d=e%2?1:0,k=0;k<b+1;k++)q=this.points[e*c+2*k+d],p=this.points[(e+1)*c+2*k+d],this.lines.push(new Line(q,p))}q=3*b+2;for(e=0;e<h;e++)for(d=e%2?1:0,k=0;k<b;k++){c=q*e+2*k+d;p=this.lines[c];z=this.lines[c+1];c=q*e+(2*b+1)+k;Y=this.lines[c];var ga=this.lines[c+
1];c=q*(e+1)+2*k+d;this.hexagons.push(new Hexagon(p,z,ga,this.lines[c+1],this.lines[c],Y))}k=e=!0;d=c=!1;for(p=q=0;p<h;p++){e=!0;p==h-1&&(d=!0);for(z=0;z<b;z++)z==b-1&&(c=!0),e||this.hexagons[q].neighbors.push(this.hexagons[q-1]),c||this.hexagons[q].neighbors.push(this.hexagons[q+1]),k||(this.hexagons[q].neighbors.push(this.hexagons[q-b]),1==p%2?c||this.hexagons[q].neighbors.push(this.hexagons[q+1-b]):e||this.hexagons[q].neighbors.push(this.hexagons[q-1-b])),d||(this.hexagons[q].neighbors.push(this.hexagons[q+
b]),1==p%2?c||this.hexagons[q].neighbors.push(this.hexagons[q+1+b]):e||this.hexagons[q].neighbors.push(this.hexagons[q-1+b])),e?e=!1:c&&(c=!1),q++;k&&(k=!1)}};Map.prototype.holeChecker=function(c,d){var b=[];b.push(c);for(var h=0;h<b.length;h++){if(b.length>=d)return!1;for(var e=0;e<b[h].neighbors.length;e++)b[h].neighbors[e].used||b.include(b[h].neighbors[e])}if(b.length>=d)return!1;this.usedHexagons.combine(b);b.forEach(function(b){b.used=!0});return!0};
Map.prototype.generateCountry=function(c,d,b,h){var e=new Country;e.ID=c;if(null!=d){do if(c=d.getRandomNeighborHexagon(!0),!c)throw"Epic Fail";while(this.holeChecker(c,b))}else c=this.hexagons[rand(0,this.hexagons.length-1)];c.used=!0;e.hexagons.push(c);this.usedHexagons.push(c);for(d=1;d<b;d++)c=e.getRandomNeighborHexagon(h),c.used=!0,e.hexagons.push(c),this.usedHexagons.push(c);return e};
Map.prototype.normalGenerator=function(c,d,b){var h=parseInt(.6*(this.hexagons.length-this.usedHexagons.length)/c);if(0>d||.9<d)d=0;for(var e=0;e<c;e++){var k=h+rand(0,parseInt(h*d))*(rand(0,1)?1:-1);if(0<this.countries.length){var q=new Country;q.hexagons=this.usedHexagons;this.countries.push(this.generateCountry(e,q,k,b))}else this.countries.push(this.generateCountry(e,null,k,b))}};
Map.prototype.getCountryNeighbors=function(){for(var c=0,d=this.countries.length;c<d;c++)for(var b=this.countries[c].outline,h=c+1;h<d;h++){var e=this.countries[c].boundingBox.min.x<this.countries[h].boundingBox.min.x?c:h,k=this.countries[c].boundingBox.min.y<this.countries[h].boundingBox.min.y?c:h;if(this.countries[e].boundingBox.max.x>=this.countries[e==h?c:h].boundingBox.min.x&&this.countries[k].boundingBox.max.y>this.countries[k==h?c:h].boundingBox.min.y)for(e=0,k=this.countries[h].outline.length;e<
k;e+=2)if(b.contains(this.countries[h].outline[e])){this.countries[c].neighbors.push(this.countries[h]);this.countries[h].neighbors.push(this.countries[c]);break}}};
Map.prototype.deleteCountryHoles=function(){for(var c=0,d=this.countries.length;c<d;c++)if(void 0!=this.countries[c].holeLines)for(var b=this.countries[c],h=[];0<b.holeLines.length;){for(var e=0,k=this.hexagons.length;e<k;e++)if(this.hexagons[e].lines.contains(b.holeLines[0])&&!b.hexagons.contains(this.hexagons[e])){h.push(this.hexagons[e]);break}for(;0<h.length;){var q=h.pop();b.hexagons.push(q);for(e=0;6>e;e++)b.inlines.include(q.lines[e]),b.holeLines.erase(q.lines[e]);e=0;for(k=q.neighbors.length;e<
k;e++)b.hexagons.contains(q.neighbors[e])||h.push(q.neighbors[e])}}};Map.prototype.calculateOutlines=function(){for(var c=0;c<this.countries.length;c++)this.countries[c].generateOutline()};Map.prototype.calculateCenters=function(){for(var c=0;c<this.countries.length;c++)this.countries[c].getCenter()};function MapGenerator(){}MapGenerator.prototype.createHexagonPattern=function(c,d,b,h){this.map=new Map(c,d,b);this.map.generateHexagonArray(h)};MapGenerator.prototype.generate=function(c,d,b){if(void 0==this.map)throw"call MapGenerator.createHexagonPattern() before generating";this.map.clear();this.map.normalGenerator(c,d,b);this.map.calculateOutlines();this.map.deleteCountryHoles();this.map.calculateCenters();this.map.getCountryNeighbors()};MapGenerator.prototype.getCountries=function(){return this.map.countries};
MapGenerator.prototype.getRawMap=function(){return this.map};
MapGenerator.prototype.getMap=function(){var c={};c.width=this.map.width;c.height=this.map.height;c.regions=[];for(var d=0;d<this.map.countries.length;d++){var b={};b.center=this.map.countries[d].center;b.ID=this.map.countries[d].ID;for(var h="M "+this.map.countries[d].outline[0].x+" "+this.map.countries[d].outline[0].y,e=1;e<this.map.countries[d].outline.length;e++)h+="L "+this.map.countries[d].outline[e].x+" "+this.map.countries[d].outline[e].y;h+=" Z";b.pathString=h;b.neighborIDs=[];for(e=0;e<
this.map.countries[d].neighbors.length;e++)b.neighborIDs.push(this.map.countries[d].neighbors[e].ID);c.regions.push(b)}c.adjacencyMatrix=[];for(d=0;d<this.map.countries.length;d++)for(c.adjacencyMatrix[d]=[],e=0;e<this.map.countries.length;e++)c.adjacencyMatrix[d][e]=0;for(d=0;d<this.map.countries.length;d++)for(e=0;e<this.map.countries[d].neighbors.length;e++)b=this.map.countries[d].center.y-this.map.countries[d].neighbors[e].center.y,b=Math.sqrt(Math.pow(this.map.countries[d].center.x-this.map.countries[d].neighbors[e].center.x,
2)+Math.pow(b,2)),c.adjacencyMatrix[this.map.countries[d].ID][this.map.countries[d].neighbors[e].ID]=b;return c};var map,paper=Raphael("paper"),button=document.getElementById("generate"),maps=[],origin,end,width=document.documentElement.clientWidth-200,height=document.documentElement.clientHeight-40;
function generate(){paper.clear();paper.setSize(width,height);Raphael.getColor.reset();try{var c=new MapGenerator;c.createHexagonPattern(width,height,25,!1);c.generate(parseInt(document.getElementById("numberOfCountries").value),.6,!1);map=c.getMap();for(c=0;c<map.regions.length;c++)maps.push(paper.path(map.regions[c].pathString).attr("fill",Raphael.getColor(0))),maps[c].node.onmouseover=function(){this.setAttribute("oldfill",this.getAttribute("fill"));this.getAttribute("fill");this.setAttribute("fill",
"#165196")},maps[c].node.onmouseout=function(){this.setAttribute("fill",this.getAttribute("oldfill"))},maps[c].node.setAttribute("data-id",c),maps[c].node.onclick=function(){var b=String.fromCharCode(Number(this.getAttribute("data-id"))+65);this.setAttribute("fill","#165196");this.setAttribute("oldfill","#165196");origin?(end=b,findRoute(origin,end),end=origin=void 0):origin=b};for(c=0;c<map.adjacencyMatrix.length;c++){for(var d=0;d<c;d++)if(0!=map.adjacencyMatrix[c][d]){var b=map.regions[c].center.x,
h=map.regions[c].center.y,e=map.regions[d].center.x,k=map.regions[d].center.y;paper.path("M "+b+","+h+" L "+e+","+k+" Z").attr({stroke:"#ffffff","stroke-width":5,opacity:.4});paper.text((b+e)/2,(h+k)/2,map.adjacencyMatrix[c][d].toFixed(2))}var q=map.regions[c].center.x,p=map.regions[c].center.y;paper.circle(q,p,10).attr("fill","#F9F5ED");paper.text(q,p,String.fromCharCode(c+65))}}catch(z){alert(z)}}
function dijkstra(c,d,b,h,e,k){h||(h=[]);e||(e={});k||(k={});var q=0,p={},z,Y,q=[];z=b;var ga;if(d===b){for(;void 0!==z;)q.push(z),z=k[z];return{path:q,distance:e[b]}}0===h.length&&(e[d]=0);for(q=0;q<Object.keys(c[d]).length;q+=1)z=Object.keys(c[d])[q],h.contains(z)||(Y=e[d]+c[d][z],Y<(void 0===e[z]?Number.MAX_VALUE:e[z])&&(e[z]=Y,k[z]=d));h.push(d);for(q=0;q<Object.keys(c).length;q+=1)d=Object.keys(c)[q],h.contains(d)||(p[d]=e[d]||Number.MAX_VALUE);ga=Object.keys(p).map(function(b){return p[b]});
d=Object.keys(p).filter(function(b){return p[b]===Math.min.apply(null,ga)})[0];return dijkstra(c,d,b,h,e,k)}function translateGraphFromAdjacency(c){for(var d={},b=0,h=0,b=0;b<c.length;b+=1)for(d[String.fromCharCode(b+65)]={},h=0;h<c[b].length;h+=1)c[b][h]&&(d[String.fromCharCode(b+65)][String.fromCharCode(h+65)]=c[b][h]);return d}function findRoute(c,d){var b=translateGraphFromAdjacency(map.adjacencyMatrix),b=dijkstra(b,c,d);traceRoute(b.path);return b}
function traceRoute(c){for(var d=0,b,h,e,k,d=0;d<c.length-1;d+=1)b=c[d].charCodeAt()-65,h=c[d+1].charCodeAt()-65,e=map.regions[b].center.x,b=map.regions[b].center.y,k=map.regions[h].center.x,h=map.regions[h].center.y,paper.path("M "+e+","+b+" L "+k+","+h+" Z").attr({stroke:"#000000","stroke-width":5,opacity:.8})}button.onclick=generate;generate();
//# sourceMappingURL=/build/graph.js.map
